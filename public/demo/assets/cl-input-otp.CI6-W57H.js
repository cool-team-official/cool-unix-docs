import{d as e,h as l,r as t,X as a,a as s,o as u,c as n,w as o,i as p,Y as i,_ as c,e as r,l as d,m as _,u as m,p as v,f as S,g as b,n as h,x as f,F as y,a2 as O}from"./index-CQm_J2yh.js";import{_ as N}from"./cl-input.Db_a5q7W.js";import{r as U,_ as T,c as g}from"./cl-page.uvue_vue_type_script_setup_true_lang.CluByn4i.js";class j extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},list:{type:"Unknown",optional:!0},item:{type:"Unknown",optional:!0},cursor:{type:"Unknown",optional:!0},value:{type:"Unknown",optional:!0}}}}}constructor(e,l=j.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,t),this.className=this.__props__.className,this.list=this.__props__.list,this.item=this.__props__.item,this.cursor=this.__props__.cursor,this.value=this.__props__.value,delete this.__props__}}const w=g(e(Object.assign({name:"cl-input-otp"},{__name:"cl-input-otp",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},autofocus:{type:Boolean,default:!1},length:{type:Number,default:4},disabled:{type:Boolean,default:!1},inputType:{type:String,default:"number"}},emits:["update:modelValue","done"],setup(e,g){var j=g.emit;const w=e,J=j,k=l((()=>i(w.pt))),V=t(null),x=t(w.modelValue),F=l((()=>!w.disabled&&(null!=V.value&&V.value.isFocus))),$=l((()=>{const e=[];for(let l=0;l<w.length;l++)e.push(x.value.charAt(l));return e}));function B(e){J("update:modelValue",e),e.length==w.length&&(O(),J("done",e))}a(l((()=>w.modelValue)),(e=>{x.value=e}));const M=t(.3);return(l=null,t=null)=>{const a=U(s("cl-input"),N),i=c,O=U(s("cl-text"),T);return u(),n(i,new UTSJSONObject({class:p(["cl-input-otp",[new UTSJSONObject({}),new UTSJSONObject({"cl-input-otp--disabled":e.disabled}),k.value.className]])}),{default:o((()=>{var l;return[r(i,new UTSJSONObject({class:"cl-input-otp__inner"}),{default:o((()=>[r(a,new UTSJSONObject({modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=(e=null)=>x.value=e),ref_key:"inputRef",ref:V,type:e.inputType,pt:new UTSJSONObject({className:"-important-h-full"}),disabled:e.disabled,autofocus:e.autofocus,maxlength:e.length,"hold-keyboard":!1,clearable:!1,onChange:B,onFocus:t[1]||(t[1]=(e=null)=>{}),onBlur:t[2]||(t[2]=(e=null)=>{})}),null,8,["modelValue","type","disabled","autofocus","maxlength"])])),_:1}),r(i,{class:p(["cl-input-otp__list",[new UTSJSONObject({}),null===(l=k.value.list)||void 0===l?null:l.className]])},{default:o((()=>[(u(!0),d(y,null,_($.value,((l,t)=>{var a;return u(),n(i,{key:t,class:p(["cl-input-otp__item",[new UTSJSONObject({}),new UTSJSONObject({"is-disabled":e.disabled,"is-dark":m(v),"is-active":x.value.length==t&&F.value}),null===(a=k.value.item)||void 0===a?null:a.className]])},{default:o((()=>{var e,a;return[r(O,{pt:{className:null===(e=k.value.value)||void 0===e?null:e.className}},{default:o((()=>[S(b(l),1)])),_:2},1032,["pt"]),x.value.length==t&&F.value&&""==l?(u(),n(i,{key:0,class:p(["cl-input-otp__cursor",[new UTSJSONObject({}),null===(a=k.value.cursor)||void 0===a?null:a.className]]),style:h({opacity:M.value})},null,8,["class","style"])):f("",!0)]})),_:2},1032,["class"])})),128))])),_:1},8,["class"])]})),_:1},8,["class"])}}})),[["__scopeId","data-v-b5bc5660"]]);export{w as _};
