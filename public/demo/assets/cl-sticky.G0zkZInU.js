import{d as t,a0 as e,H as s,r as a,h as l,a1 as i,U as o,o as p,c as n,w as r,n as u,q as c,X as h,a2 as _,a4 as d,_ as f,e as S,I as v,i as y}from"./index-B24YsiZd.js";import{m as T,c as b}from"./cl-page.uvue_vue_type_script_setup_true_lang.QLHSGU5U.js";class g extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{height:{type:Number,optional:!1},width:{type:Number,optional:!1},left:{type:Number,optional:!1},top:{type:Number,optional:!1}}}}}constructor(t,e=g.get$UTSMetadata$(),s=!1){super(),this.__props__=UTS.UTSType.initProps(t,e,s),this.height=this.__props__.height,this.width=this.__props__.width,this.left=this.__props__.left,this.top=this.__props__.top,delete this.__props__}}const w=b(t(Object.assign({name:"cl-sticky"},{__name:"cl-sticky",props:{offsetTop:{type:Number,default:0},zIndex:{type:Number,default:100},scrollTop:{type:Number,default:0}},setup(t,b){var w=b.expose;const m=t,O=e().proxy,N=T().onScroll,U=s(new g({height:0,width:0,left:0,top:0})),x=a(0),j=l((()=>0!=U.height&&x.value>=U.top)),J=l((()=>{if(j.value){let t=0;return c.isCustomNavbarPage()||(t=44),t+m.offsetTop}return 0}));function k(){h((()=>{_().in(O).select(".cl-sticky").boundingClientRect().exec((t=>{var e,s,a,l;if(d(t))return null;const i=t[0];U.height=null!==(e=i.height)&&void 0!==e?e:0,U.width=null!==(s=i.width)&&void 0!==s?s:0,U.left=null!==(a=i.left)&&void 0!==a?a:0,U.top=(null!==(l=i.top)&&void 0!==l?l:0)-m.offsetTop+x.value}))}))}return i((()=>{k(),N((t=>{x.value=t})),o(l((()=>m.scrollTop)),(t=>{x.value=t}),{immediate:!0})})),w(new UTSJSONObject({getRect:k})),(e=null,s=null)=>{const a=f;return p(),n(a,new UTSJSONObject({class:"cl-sticky-wrapper",style:u({height:0==U.height?"auto":U.height+"px",zIndex:t.zIndex})}),new UTSJSONObject({default:r((()=>[S(a,new UTSJSONObject({class:y(["cl-sticky",[new UTSJSONObject({}),new UTSJSONObject({"is-active":j.value})]]),style:u({width:j.value?U.width+"px":"100%",left:j.value?U.left+"px":0,top:J.value+"px"})}),{default:r((()=>[v(e.$slots,"default",new UTSJSONObject({}),void 0,!0),v(e.$slots,"content",new UTSJSONObject({isSticky:j.value}),void 0,!0)])),_:3},8,["class","style"])])),_:3}),8,["style"])}}})),[["__scopeId","data-v-a6d36b3f"]]);export{w as _};
