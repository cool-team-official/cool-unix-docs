import{r as e,_ as t,a,d as c,b as n,u as l}from"./cl-page.uvue_vue_type_script_setup_true_lang.CmWHGyb6.js";import{d as s,r,h as o,a as i,o as p,c as u,w as m,e as S,u as O,$ as d,f as b,g as w,t as N,i as f,p as _,l as j,m as T,z as k,F as U,v as h,a3 as J,_ as x}from"./index-CbBHIjcR.js";import{_ as v}from"./cl-topbar.CxF73EZL.js";import{_ as g}from"./cl-sticky.DV-qzyFt.js";import{_ as y}from"./cl-image.DjokyyWe.js";import{_ as z}from"./cl-input-number.Bqt7KcTi.js";import{_ as C}from"./cl-list-item.Cuoil8UK.js";import{_ as V}from"./cl-empty.CS9-GCBO.js";import{_ as B}from"./cl-checkbox.Bec9X8oi.js";import{_ as G}from"./cl-footer.Dmkczex4.js";import"./cl-input.0IOuN8mT.js";import"./form.CNgJktZW.js";import"./index.U6ITPUe7.js";import"./cl-collapse._peHLwmC.js";class $ extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{id:{type:Number,optional:!1},name:{type:String,optional:!1},count:{type:Number,optional:!1},price:{type:Number,optional:!1},cover:{type:String,optional:!1},skuName:{type:String,optional:!1},checked:{type:Boolean,optional:!1}}}}}constructor(e,t=$.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,a),this.id=this.__props__.id,this.name=this.__props__.name,this.count=this.__props__.count,this.price=this.__props__.price,this.cover=this.__props__.cover,this.skuName=this.__props__.skuName,this.checked=this.__props__.checked,delete this.__props__}}const L=s({__name:"shopping-cart",setup(s){const L=l(),M=r([new $({id:1,name:"Apple iPad",count:1,price:450,cover:"https://img.yzcdn.cn/vant/ipad.png",skuName:"æ·±ç©ºç°è‰² 128GB WLANç‰ˆ",checked:!0}),new $({id:2,name:"Samsung Galaxy S24",count:2,price:699,cover:"https://img.yzcdn.cn/vant/samsung.png",skuName:"æ›œçŸ³é»‘ 12GB+256GB å®˜æ–¹æ ‡é…",checked:!1}),new $({id:3,name:"Sony WH-1000XM5",count:1,price:299,cover:"https://img.yzcdn.cn/vant/sony.png",skuName:"é»‘è‰² æ— çº¿è“ç‰™ å®˜æ–¹æ ‡é…",checked:!1}),new $({id:4,name:"å°ç±³æ‰‹çŽ¯8",count:3,price:49,cover:"https://img.yzcdn.cn/vant/xiaomi.png",skuName:"æ›œçŸ³é»‘ æ ‡å‡†ç‰ˆ ç¡…èƒ¶è¡¨å¸¦",checked:!1}),new $({id:5,name:"Kindle Paperwhite",count:1,price:120,cover:"https://img.yzcdn.cn/vant/kindle.png",skuName:"é»‘è‰² 8GB å®˜æ–¹æ ‡é…",checked:!1})]),P=r(!1);function A(e){M.value.forEach(((t,a,c)=>{c[a].checked=e}))}const W=r(!1);function q(e){L.showConfirm({title:N("æ¸©é¦¨æç¤º"),message:N("ç¡®å®šåˆ é™¤è¯¥å•†å“å—ï¼Ÿ"),callback(t){"confirm"===t&&(M.value.splice(e,1),L.showToast({message:N("åˆ é™¤æˆåŠŸ")}))}})}function E(){const e=M.value.filter((e=>e.checked));if(J(e))return L.showToast({message:N("è¯·å…ˆé€‰æ‹©å•†å“")});L.showConfirm({title:N("æ¸©é¦¨æç¤º"),message:N("ç¡®å®šåˆ é™¤é€‰ä¸­çš„å•†å“å—ï¼Ÿ"),callback(e){"confirm"==e&&(M.value=M.value.filter((e=>!e.checked)),P.value&&(P.value=!1),L.showToast({message:N("åˆ é™¤æˆåŠŸ")}))}})}const F=o((()=>M.value.filter((e=>e.checked)).reduce(((e,t)=>e+t.price*t.count),0)));function H(){if(F.value<=0)return L.showToast({message:N("è¯·å…ˆé€‰æ‹©å•†å“")});L.showConfirm({title:N("æ¸©é¦¨æç¤º"),message:d("æ‚¨éœ€æ”¯ä»˜ {price} å…ƒï¼Œè¯·ç¡®è®¤æ”¯ä»˜",new UTSJSONObject({price:F.value})),beforeClose(e,t){var a=t.showLoading,c=t.close;"confirm"==e?(a(),setTimeout((()=>{L.showToast({message:N("æ”¯ä»˜æˆåŠŸ")}),c()}),1e3)):c()}})}return(l=null,s=null)=>{const r=e(i("cl-text"),t),o=e(i("cl-topbar"),v),J=e(i("cl-sticky"),g),$=x,L=e(i("cl-icon"),a),K=e(i("cl-image"),y),X=e(i("cl-input-number"),z),D=e(i("cl-button"),c),I=e(i("cl-list-item"),C),Q=e(i("cl-empty"),V),R=e(i("cl-checkbox"),B),Y=e(i("cl-footer"),G),Z=e(i("cl-page"),n);return p(),u(Z,null,new UTSJSONObject({default:m((()=>[S(J,null,{default:m((()=>[S(o,new UTSJSONObject({fixed:"","safe-area-top":"",title:"".concat(O(d)("è´­ç‰©è½¦ ({num})",new UTSJSONObject({num:M.value.length})))}),{prepend:m((()=>[])),append:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"mr-3"}),onClick:s[0]||(s[0]=(e=null)=>W.value=!W.value)}),{default:m((()=>[b(w(W.value?O(N)("å®Œæˆ"):O(N)("ç®¡ç†")),1)])),_:1})])),_:1},8,["title"])])),_:1}),S($,new UTSJSONObject({class:"p-3"}),{default:m((()=>[S($,new UTSJSONObject({class:f(["p-3 rounded-xl bg-white mb-3",new UTSJSONObject({"dark-colon--important-bg-surface-800":O(_)})])}),{default:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"-important-text-sm"})}),{default:m((()=>[b("ðŸ”¥ æœ€æ–°é™ä»·å•†å“ï¼Œé™æ—¶ä¼˜æƒ ï¼ŒæŠ“ç´§æŠ¢è´­ï¼")])),_:1})])),_:1},8,["class"]),(p(!0),j(U,null,T(M.value,((e,t)=>(p(),u(I,new UTSJSONObject({key:e.id,pt:new UTSJSONObject({className:O(k)(["rounded-2xl ",[t==M.value.length-1,"mb-0","mb-3"]]),inner:new UTSJSONObject({className:"-important-p-4"})}),swipeable:""}),new UTSJSONObject({"swipe-right":m((()=>[S(D,new UTSJSONObject({type:"error",pt:new UTSJSONObject({className:"-important-rounded-none h-full w--bracket-start-160rpx-bracket-end-"}),onClick:(e=null)=>q(t)}),{default:m((()=>[b(w(O(N)("åˆ é™¤")),1)])),_:2},1032,["onClick"])])),default:m((()=>[S($,new UTSJSONObject({class:"flex flex-row flex-1"}),{default:m((()=>[S($,new UTSJSONObject({class:"flex flex-col mr-4 pt--bracket-start-55rpx-bracket-end-",onClick:(t=null)=>function(e){e.checked=!e.checked,P.value=M.value.every((e=>e.checked))}(e)}),{default:m((()=>[e.checked?(p(),u(L,new UTSJSONObject({key:0,name:"checkbox-circle-line",color:"primary",size:40}))):(p(),u(L,new UTSJSONObject({key:1,name:"checkbox-blank-circle-line",size:40})))])),_:2},1032,["onClick"]),S(K,new UTSJSONObject({width:150,height:150,src:e.cover}),null,8,["src"]),S($,new UTSJSONObject({class:"flex flex-col ml-3 flex-1"}),{default:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"mb-2 font-bold"})}),{default:m((()=>[b(w(e.name),1)])),_:2},1024),S($,new UTSJSONObject({class:"flex flex-row mb-2"}),{default:m((()=>[S($,new UTSJSONObject({class:f(["bg-surface-100 rounded-md py-1 px-2 flex flex-row items-center",new UTSJSONObject({"dark-colon--important-bg-surface-700":O(_)})])}),{default:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"-important-text-xs"})}),{default:m((()=>[b(w(e.skuName),1)])),_:2},1024),S(L,new UTSJSONObject({name:"arrow-down-s-line"}))])),_:2},1032,["class"])])),_:2},1024),S($,new UTSJSONObject({class:"flex flex-row items-center mb-2"}),{default:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"-important-text--bracket-start-22rpx-bracket-end- -important-text-red-500 mr--bracket-start-1rpx-bracket-end-"})}),{default:m((()=>[b("Â¥")])),_:1}),S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"-important-text-red-500 -important-text--bracket-start-32rpx-bracket-end- mr-auto"})}),{default:m((()=>[b(w(e.price),1)])),_:2},1024),W.value?(p(),u($,new UTSJSONObject({key:0,class:"p--bracket-start-8rpx-bracket-end- bg-red-500 rounded-lg",onClick:(e=null)=>q(t)}),new UTSJSONObject({default:m((()=>[S(L,new UTSJSONObject({name:"delete-bin-line",color:"white",size:24}))])),_:2}),1032,["onClick"])):(p(),u($,new UTSJSONObject({key:1,class:"flex"}),new UTSJSONObject({default:m((()=>[S(X,new UTSJSONObject({modelValue:e.count,"onUpdate:modelValue":(t=null)=>e.count=t,size:40,min:1,pt:new UTSJSONObject({op:new UTSJSONObject({plus:new UTSJSONObject({className:"-important-rounded-full"}),minus:new UTSJSONObject({className:"-important-rounded-full"}),icon:new UTSJSONObject({size:28})}),value:new UTSJSONObject({className:"-important-w--bracket-start-60rpx-bracket-end- rounded-full -important-px-0",input:new UTSJSONObject({className:"-important-text--bracket-start-24rpx-bracket-end-"})})})}),null,8,["modelValue","onUpdate:modelValue"])])),_:2}),1024))])),_:2},1024),S(r,new UTSJSONObject({size:22,color:"error"}),{default:m((()=>[b("æ¯”åŠ å…¥æ—¶é™Â¥100")])),_:1}),S(r,new UTSJSONObject({size:22}),{default:m((()=>[b("æ»¡1ä»¶å¯æ¢è´­0.5å…ƒå•†å“")])),_:1})])),_:2},1024)])),_:2},1024)])),_:2}),1032,["pt"])))),128)),0==M.value.length?(p(),u(Q,new UTSJSONObject({key:0}))):h("",!0)])),_:1}),S(Y,null,{default:m((()=>[S($,new UTSJSONObject({class:"flex flex-row items-center h--bracket-start-70rpx-bracket-end-"}),{default:m((()=>[S(R,new UTSJSONObject({"active-icon":"checkbox-circle-line","inactive-icon":"checkbox-blank-circle-line",pt:new UTSJSONObject({className:"mr-auto"}),size:28,modelValue:P.value,"onUpdate:modelValue":s[1]||(s[1]=(e=null)=>P.value=e),onChange:A}),{default:m((()=>[b(w(O(N)("å…¨é€‰")),1)])),_:1},8,["modelValue"]),W.value?(p(),u(D,new UTSJSONObject({key:0,type:"error",pt:new UTSJSONObject({className:"-important-px-5"}),onClick:E}),new UTSJSONObject({default:m((()=>[b(w(O(N)("åˆ é™¤")),1)])),_:1}))):(p(),j(U,new UTSJSONObject({key:1}),[S($,new UTSJSONObject({class:"flex flex-col mr-3 items-end pt-1"}),{default:m((()=>[S(r,new UTSJSONObject({color:"info",pt:new UTSJSONObject({className:"-important-text-xs"})}),{default:m((()=>[b(w(O(N)("åˆè®¡")),1)])),_:1}),S(r,new UTSJSONObject({color:"error",value:F.value,type:"amount"}),null,8,["value"])])),_:1}),S(D,new UTSJSONObject({type:"error",pt:new UTSJSONObject({className:"-important-px-8"}),onClick:H}),{default:m((()=>[b(w(O(N)("åŽ»ç»“ç®—")),1)])),_:1})],64))])),_:1})])),_:1})])),_:1}))}}});export{L as default};
