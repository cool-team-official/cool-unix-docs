import{d as e,a4 as t,c as s,z as l,a5 as a,T as r,r as n,o,a as u,w as c,n as p,U as i,X as _,_ as d,b as v,W as m,u as S,e as b,H as g,v as y,p as T,a6 as h}from"./index-Cd0MiOFL.js";import{_ as w}from"./cl-rolling-number.DpIMcNit.js";import{r as N,c as U}from"./cl-page.uvue_vue_type_script_setup_true_lang.D4-Wlcfk.js";class O extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},outer:{type:"Unknown",optional:!0},inner:{type:"Unknown",optional:!0},text:{type:"Unknown",optional:!0}}}}}constructor(e,t=O.get$UTSMetadata$(),s=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,s),this.className=this.__props__.className,this.outer=this.__props__.outer,this.inner=this.__props__.inner,this.text=this.__props__.text,delete this.__props__}}const x=U(e(Object.assign({name:"cl-progress"},{__name:"cl-progress",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},value:{type:Number,default:0},strokeWidth:{type:Number,default:12},showText:{type:Boolean,default:!0},color:{type:String,default:null},unColor:{type:String,default:null}},setup(e){const U=e,O=t().proxy,x=s((()=>i(U.pt))),f=l(0),j=l(0),k=s((()=>{const e=new Map;return e.set("height",_(U.strokeWidth)),null!=U.unColor&&e.set("backgroundColor",U.unColor),e})),C=s((()=>{const e=new Map;return e.set("width","".concat(f.value/100*j.value,"px")),null!=U.color&&e.set("backgroundColor",U.color),e}));return a((()=>{r(s((()=>U.value)),(e=>{h().in(O).select(".cl-progress__outer").boundingClientRect(((e=null)=>{var t;j.value=null!==(t=e.width)&&void 0!==t?t:0})).exec(),setTimeout((()=>{f.value=e>100?100:e<0?0:e}),10)}),{immediate:!0})})),(t=null,s=null)=>{const l=d,a=N(n("cl-rolling-number"),w);return o(),u(l,new UTSJSONObject({class:p(["cl-progress",[new UTSJSONObject({}),x.value.className]])}),{default:c((()=>{var s;return[v(l,{class:p(["cl-progress__outer",[new UTSJSONObject({}),new UTSJSONObject({"-important-bg-surface-700":S(b)&&null==U.unColor}),null===(s=x.value.outer)||void 0===s?null:s.className]]),style:m(k.value)},{default:c((()=>{var e;return[v(l,{class:p(["cl-progress__inner",[new UTSJSONObject({}),null===(e=x.value.inner)||void 0===e?null:e.className]]),style:m(C.value)},null,8,["class","style"])]})),_:1},8,["class","style"]),g(t.$slots,"text",new UTSJSONObject({}),(()=>{var t;return[e.showText?(o(),u(a,{key:0,"model-value":f.value,pt:{className:S(y)(["w--bracket-start-100rpx-bracket-end- text-center",null===(t=x.value.text)||void 0===t?null:t.className])},unit:"%"},null,8,["model-value","pt"])):T("",!0)]}),!0)]})),_:3},8,["class"])}}})),[["__scopeId","data-v-b7b74751"]]);export{x as _};
