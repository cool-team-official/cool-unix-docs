import{r as e,_ as a,c as l}from"./cl-page.uvue_vue_type_script_setup_true_lang.CFvuOJz5.js";import{d as t,t as n,c as o,z as s,T as u,r as c,o as i,a as r,w as p,n as d,u as f,W as m,a1 as S,_,H as v,b as y,x as b,q as h,e as O,a8 as N}from"./index-BAeoAK27.js";import{u as T,a as g}from"./form.C9wDcIi8.js";class x extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0},prefixIcon:{type:"Unknown",optional:!0},suffixIcon:{type:"Unknown",optional:!0}}}}}constructor(e,a=x.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,a,l),this.className=this.__props__.className,this.inner=this.__props__.inner,this.prefixIcon=this.__props__.prefixIcon,this.suffixIcon=this.__props__.suffixIcon,delete this.__props__}}const j=l(t(Object.assign({name:"cl-input"},{__name:"cl-input",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},type:{type:String,default:"text"},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},password:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},placeholder:{type:String,default:()=>n("请输入")},placeholderClass:{type:String,default:""},border:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},cursorSpacing:{type:Number,default:5},confirmHold:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},adjustPosition:{type:Boolean,default:!0},maxlength:{type:Number,default:140},holdKeyboard:{type:Boolean,default:!1}},emits:["update:modelValue","input","change","focus","blur","confirm","clear","keyboardheightchange"],setup(l,t){var n=t.expose,x=t.emit;const j=l,w=x,U=T().disabled,k=g().isError,J=o((()=>U.value||j.disabled)),I=o((()=>m(j.pt))),B=s(""),z=s(j.autofocus),C=o((()=>z.value&&j.clearable&&""!=B.value)),$=s(j.password);function V(){$.value=!$.value}function H(){z.value=!0,w("focus")}function K(){w("blur"),setTimeout((()=>{z.value=!1}),0)}function P(e){const a=e.detail.value;B.value=a,w("update:modelValue",a),w("input",a),a!=B.value&&w("change",a)}function F(e){w("confirm",e)}function M(e){w("keyboardheightchange",e)}function q(){if(J.value)return null;z.value=!0}function E(){setTimeout((()=>{z.value=!1,S((()=>{z.value=!0}))}),0)}function W(){B.value="",w("update:modelValue",""),w("change",""),w("clear"),E()}return u(o((()=>j.modelValue)),(e=>{B.value=e}),{immediate:!0}),n(new UTSJSONObject({isFocus:z,focus:E,clear:W})),(t=null,n=null)=>{const o=e(c("cl-icon"),a),s=_,u=N;return i(),r(s,new UTSJSONObject({class:d(["cl-input",[new UTSJSONObject({}),I.value.className,new UTSJSONObject({"is-dark":f(O),"cl-input--border":l.border,"cl-input--focus":z.value,"cl-input--disabled":J.value,"cl-input--error":f(k)})]]),onClick:q}),{default:p((()=>{var e,a;return[v(t.$slots,"prepend",new UTSJSONObject({}),void 0,!0),l.prefixIcon?(i(),r(s,new UTSJSONObject({key:0,class:"cl-input__icon -important-pl-0 pr--bracket-start-12rpx-bracket-end-"}),{default:p((()=>{var e,a,t;return[y(o,{name:l.prefixIcon,size:null!==(a=null===(e=I.value.prefixIcon)||void 0===e?null:e.size)&&void 0!==a?a:32,pt:{className:f(b)([null===(t=I.value.prefixIcon)||void 0===t?null:t.className])}},null,8,["name","size","pt"])]})),_:1})):h("",!0),y(u,{class:d(["cl-input__inner",[new UTSJSONObject({}),new UTSJSONObject({"is-disabled":J.value,"is-dark":f(O)}),null===(e=I.value.inner)||void 0===e?null:e.className]]),value:B.value,disabled:null!==(a=l.readonly)&&void 0!==a?a:J.value,type:l.type,password:$.value,focus:z.value,placeholder:l.placeholder,"placeholder-class":"text-surface-400 ".concat(l.placeholderClass),maxlength:l.maxlength,"cursor-spacing":l.cursorSpacing,"confirm-type":l.confirmType,"confirm-hold":l.confirmHold,"adjust-position":l.adjustPosition,"hold-keyboard":l.holdKeyboard,onInput:P,onFocus:H,onBlur:K,onConfirm:F,onKeyboardheightchange:M},null,8,["class","value","disabled","type","password","focus","placeholder","placeholder-class","maxlength","cursor-spacing","confirm-type","confirm-hold","adjust-position","hold-keyboard"]),l.suffixIcon?(i(),r(s,new UTSJSONObject({key:1,class:"cl-input__icon"}),{default:p((()=>{var e,a,t;return[y(o,{name:l.suffixIcon,size:null!==(a=null===(e=I.value.suffixIcon)||void 0===e?null:e.size)&&void 0!==a?a:32,pt:{className:f(b)([null===(t=I.value.prefixIcon)||void 0===t?null:t.className])}},null,8,["name","size","pt"])]})),_:1})):h("",!0),C.value?(i(),r(s,new UTSJSONObject({key:2,class:"cl-input__icon",onClick:W}),new UTSJSONObject({default:p((()=>[y(o,new UTSJSONObject({name:"close-circle-fill",size:32,pt:new UTSJSONObject({className:"-important-text-surface-400"})}))])),_:1}))):h("",!0),l.password?(i(),r(s,new UTSJSONObject({key:3,class:"cl-input__icon",onClick:V}),new UTSJSONObject({default:p((()=>[y(o,new UTSJSONObject({name:$.value?"eye-line":"eye-off-line",size:32,pt:new UTSJSONObject({className:"-important-text-surface-300"})}),null,8,["name"])])),_:1}))):h("",!0),v(t.$slots,"append",new UTSJSONObject({}),void 0,!0)]})),_:3},8,["class"])}}})),[["__scopeId","data-v-e9455ae5"]]);export{j as _};
