import{d as e,t as a,h as t,r as o,X as l,a as n,o as r,c as s,w as u,i as d,u as i,Y as c,Z as p,a0 as f,_ as m,e as h,p as g,n as b,f as y,g as S,x as _,a1 as v}from"./index-CNagV5B9.js";import{g as x,r as j,_ as N,c as O}from"./cl-page.uvue_vue_type_script_setup_true_lang.Dujw6vu5.js";import{u as T,a as w}from"./form.psaMSS8r.js";class U extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0}}}}}constructor(e,a=U.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,a,t),this.className=this.__props__.className,this.inner=this.__props__.inner,delete this.__props__}}const B=O(e(Object.assign({name:"cl-textarea"},{__name:"cl-textarea",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},border:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},showWordLimit:{type:Boolean,default:!0},name:{type:String,default:""},placeholder:{type:String,default:()=>a("请输入")},placeholderClass:{type:String,default:""},maxlength:{type:Number,default:140},autofocus:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},cursor:{type:Number,default:0},confirmHold:{type:Boolean,default:!1},height:{type:[Number,String],default:120},autoHeight:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},cursorSpacing:{type:Number,default:5},cursorColor:{type:String,default:""},showConfirmBar:{type:Boolean,default:!0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},adjustPosition:{type:Boolean,default:!0},inputmode:{type:String,default:"text"},holdKeyboard:{type:Boolean,default:!1},disableDefaultPadding:{type:Boolean,default:!0},adjustKeyboardTo:{type:String,default:"cursor"}},emits:["update:modelValue","input","change","focus","blur","confirm","linechange","keyboardheightchange"],setup(e,a){var O=a.expose,U=a.emit;const B=e,k=U,J=T().disabled,C=w().isError,K=t((()=>J.value||B.disabled)),P=t((()=>c(B.pt))),V=x((()=>{var e,a;return null!==(a=null===(e=P.value.inner)||void 0===e?null:e.className)&&void 0!==a?a:""})),H=V.ptClassName,$=V.getSize,L=t((()=>{const e=new UTSJSONObject({height:p(B.height)}),a=$(null);return null!=a&&(e.fontSize=a),e})),z=o(B.modelValue),D=o(B.autofocus);function E(e){D.value=!0,k("focus",e)}function F(e){k("blur",e),setTimeout((()=>{D.value=!1}),0)}function I(e){const a=e.detail.value,t=z.value;z.value=a,k("update:modelValue",a),k("input",e),a!=t&&k("change",a)}function M(e){k("confirm",e)}function W(e){k("keyboardheightchange",e)}function X(e){k("linechange",e)}function Y(){if(K.value)return null;D.value=!0}return l(t((()=>B.modelValue)),(e=>{z.value=e})),O(new UTSJSONObject({isFocus:D,focus:function(){setTimeout((()=>{D.value=!1,f((()=>{D.value=!0}))}),0)}})),(a=null,t=null)=>{const o=v,l=j(n("cl-text"),N),c=m;return r(),s(c,new UTSJSONObject({class:d(["cl-textarea",[new UTSJSONObject({}),P.value.className,new UTSJSONObject({"is-dark":i(g),"cl-textarea--border":e.border,"cl-textarea--focus":D.value,"cl-textarea--disabled":K.value,"cl-textarea--error":i(C)})]]),onClick:Y}),{default:u((()=>{var a;return[h(o,{class:d(["cl-textarea__inner",[new UTSJSONObject({"dark-colon-text-surface-50":i(g)}),new UTSJSONObject({"is-disabled":K.value,"is-dark":i(g)}),i(H)]]),style:b(L.value),value:z.value,name:e.name,disabled:null!==(a=e.readonly)&&void 0!==a?a:K.value,placeholder:e.placeholder,"placeholder-class":"text-surface-400 ".concat(e.placeholderClass),maxlength:e.maxlength,"auto-focus":D.value,cursor:e.cursor,"cursor-spacing":e.cursorSpacing,"cursor-color":e.cursorColor,"show-confirm-bar":e.showConfirmBar,"confirm-hold":e.confirmHold,"auto-height":e.autoHeight,fixed:e.fixed,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,inputmode:e.inputmode,"disable-default-padding":e.disableDefaultPadding,"adjust-keyboard-to":e.adjustKeyboardTo,onConfirm:M,onInput:I,onLinechange:X,onBlur:F,onFocus:E,onKeyboardheightchange:W},null,8,["class","style","value","name","disabled","placeholder","placeholder-class","maxlength","auto-focus","cursor","cursor-spacing","cursor-color","show-confirm-bar","confirm-hold","auto-height","fixed","adjust-position","hold-keyboard","inputmode","disable-default-padding","adjust-keyboard-to"]),e.showWordLimit?(r(),s(l,new UTSJSONObject({key:0,pt:new UTSJSONObject({className:"absolute right-2 bottom-2 -important-text-xs -important-text-surface-400"})}),new UTSJSONObject({default:u((()=>[y(S(z.value.length)+" / "+S(e.maxlength),1)])),_:1}))):_("",!0)]})),_:1},8,["class"])}}})),[["__scopeId","data-v-9f92b7cd"]]);export{B as _};
