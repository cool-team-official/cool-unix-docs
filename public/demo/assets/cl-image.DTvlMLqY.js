import{d as e,c as a,z as s,r as l,o as t,a as n,w as o,n as r,W as i,u as c,U as u,_ as p,e as d,H as _,b as S,v as w,p as m,X as g,a7 as v,ar as O,ag as y}from"./index-CXkM1HbT.js";import{r as b,_ as f,f as N,c as h}from"./cl-page.uvue_vue_type_script_setup_true_lang.BMFuYZfM.js";class U extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0},error:{type:"Unknown",optional:!0},loading:{type:"Unknown",optional:!0}}}}}constructor(e,a=U.get$UTSMetadata$(),s=!1){super(),this.__props__=UTS.UTSType.initProps(e,a,s),this.className=this.__props__.className,this.inner=this.__props__.inner,this.error=this.__props__.error,this.loading=this.__props__.loading,delete this.__props__}}const T=h(e(Object.assign({name:"cl-image"},{__name:"cl-image",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},src:{type:String,default:""},mode:{type:String,default:"aspectFill"},border:{type:Boolean,default:!1},preview:{type:Boolean,default:!1},previewList:{type:Array,default:()=>[]},height:{type:[String,Number],default:120},width:{type:[String,Number],default:120},showLoading:{type:Boolean,default:!0},lazyLoad:{type:Boolean,default:!1},fadeShow:{type:Boolean,default:!1},webp:{type:Boolean,default:!1},showMenuByLongpress:{type:Boolean,default:!1}},emits:["load","error"],setup(e,h){var U=h.emit;const T=e,j=U,J=a((()=>u(T.pt))),L=s(!0),k=s(!1);function B(e){L.value=!1,k.value=!1,j("load",e)}function z(e){L.value=!1,k.value=!0,j("error",e)}function $(){if(T.preview){const e=v(T.previewList)?[T.src]:T.previewList;O({urls:e,current:T.src})}}return(a=null,s=null)=>{const u=b(l("cl-icon"),f),v=p,O=b(l("cl-loading"),N),h=y;return t(),n(v,new UTSJSONObject({class:r(["cl-image",[new UTSJSONObject({}),new UTSJSONObject({"cl-image--border":e.border}),J.value.className]]),style:i({width:c(g)(e.width),height:c(g)(e.height)})}),{default:o((()=>{var s,l,i;return[k.value?(t(),n(v,{key:0,class:r(["cl-image__error",[new UTSJSONObject({}),new UTSJSONObject({"is-dark":c(d)}),null===(s=J.value.error)||void 0===s?null:s.className]])},{default:o((()=>[_(a.$slots,"error",new UTSJSONObject({}),(()=>{var e,a,s,l,t;return[S(u,{name:null!==(a=null===(e=J.value.error)||void 0===e?null:e.name)&&void 0!==a?a:"close-line",size:null!==(l=null===(s=J.value.error)||void 0===s?null:s.size)&&void 0!==l?l:40,pt:{className:c(w)(["-important-text-surface-400",null===(t=J.value.error)||void 0===t?null:t.className])}},null,8,["name","size","pt"])]}),!0)])),_:3},8,["class"])):L.value&&e.showLoading?(t(),n(v,{key:1,class:r(["cl-image__loading",[new UTSJSONObject({}),new UTSJSONObject({"is-dark":c(d)}),null===(l=J.value.loading)||void 0===l?null:l.className]])},new UTSJSONObject({default:o((()=>[_(a.$slots,"loading",new UTSJSONObject({}),(()=>[S(O,new UTSJSONObject({loading:!0,pt:new UTSJSONObject({icon:new UTSJSONObject({className:"-important-text-surface-400"})})}))]),!0)])),_:3}),8,["class"])):m("",!0),S(h,{class:r(["cl-image__inner",[new UTSJSONObject({}),null===(i=J.value.inner)||void 0===i?null:i.className]]),src:e.src,mode:e.mode,"lazy-load":e.lazyLoad,webp:e.webp,"show-menu-by-longpress":e.showMenuByLongpress,onLoad:B,onError:z,onClick:$},null,8,["class","src","mode","lazy-load","webp","show-menu-by-longpress"]),_(a.$slots,"default",new UTSJSONObject({}),void 0,!0)]})),_:3},8,["class","style"])}}})),[["__scopeId","data-v-e53a0bbc"]]);export{T as _};
