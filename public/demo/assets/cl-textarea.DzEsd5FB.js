import{d as e,t as a,c as t,z as o,T as l,o as n,a as s,w as r,n as u,u as d,W as i,a1 as c,_ as p,b as f,e as h,X as m,a5 as g,f as y,g as b,q as S,a6 as _,m as v}from"./index-BAeoAK27.js";import{u as x,a as T}from"./form.C9wDcIi8.js";import{c as j}from"./cl-page.uvue_vue_type_script_setup_true_lang.CFvuOJz5.js";class O extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0}}}}}constructor(e,a=O.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,a,t),this.className=this.__props__.className,this.inner=this.__props__.inner,delete this.__props__}}const N=j(e(Object.assign({name:"cl-textarea"},{__name:"cl-textarea",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},border:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},showWordLimit:{type:Boolean,default:!0},name:{type:String,default:""},placeholder:{type:String,default:()=>a("请输入")},placeholderClass:{type:String,default:""},maxlength:{type:Number,default:140},autofocus:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},cursor:{type:Number,default:0},confirmHold:{type:Boolean,default:!1},height:{type:[Number,String],default:120},autoHeight:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},cursorSpacing:{type:Number,default:5},cursorColor:{type:String,default:""},showConfirmBar:{type:Boolean,default:!0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},adjustPosition:{type:Boolean,default:!0},inputmode:{type:String,default:"text"},holdKeyboard:{type:Boolean,default:!1},disableDefaultPadding:{type:Boolean,default:!0},adjustKeyboardTo:{type:String,default:"cursor"}},emits:["update:modelValue","input","change","focus","blur","confirm","linechange","keyboardheightchange"],setup(e,a){var j=a.expose,O=a.emit;const N=e,w=O,U=x().disabled,B=T().isError,k=t((()=>U.value||N.disabled)),J=t((()=>i(N.pt))),C=o(N.modelValue),K=o(N.autofocus);function P(){K.value=!0,w("focus")}function V(){w("blur"),setTimeout((()=>{K.value=!1}),0)}function H(e){const a=e.detail.value;C.value=a,w("update:modelValue",a),w("change",a)}function $(e){w("confirm",e)}function L(e){w("keyboardheightchange",e)}function W(e){w("linechange",e)}function D(){if(k.value)return null;K.value=!0}return l(t((()=>N.modelValue)),(e=>{C.value=e})),j(new UTSJSONObject({isFocus:K,focus:function(){setTimeout((()=>{K.value=!1,c((()=>{K.value=!0}))}),0)}})),(a=null,t=null)=>{const o=_,l=v,i=p;return n(),s(i,new UTSJSONObject({class:u(["cl-textarea",[new UTSJSONObject({}),J.value.className,new UTSJSONObject({"is-dark":d(h),"cl-textarea--border":e.border,"cl-textarea--focus":K.value,"cl-textarea--disabled":k.value,"cl-textarea--error":d(B)})]]),onClick:D}),{default:r((()=>{var a,t;return[f(o,{class:u(["cl-textarea__inner",[new UTSJSONObject({"dark-colon-text-surface-50":d(h)}),new UTSJSONObject({"is-disabled":k.value,"is-dark":d(h)}),null===(a=J.value.inner)||void 0===a?null:a.className]]),style:m({height:d(g)(e.height)}),value:C.value,name:e.name,disabled:null!==(t=e.readonly)&&void 0!==t?t:k.value,placeholder:e.placeholder,"placeholder-class":"text-surface-400 ".concat(e.placeholderClass),maxlength:e.maxlength,"auto-focus":K.value,cursor:e.cursor,"cursor-spacing":e.cursorSpacing,"cursor-color":e.cursorColor,"show-confirm-bar":e.showConfirmBar,"confirm-hold":e.confirmHold,"auto-height":e.autoHeight,fixed:e.fixed,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,inputmode:e.inputmode,"disable-default-padding":e.disableDefaultPadding,"adjust-keyboard-to":e.adjustKeyboardTo,onConfirm:$,onInput:H,onLinechange:W,onBlur:V,onKeyboardheightchange:L,onFocus:P},null,8,["class","style","value","name","disabled","placeholder","placeholder-class","maxlength","auto-focus","cursor","cursor-spacing","cursor-color","show-confirm-bar","confirm-hold","auto-height","fixed","adjust-position","hold-keyboard","inputmode","disable-default-padding","adjust-keyboard-to"]),e.showWordLimit?(n(),s(l,new UTSJSONObject({key:0,class:u(["cl-textarea__count",new UTSJSONObject({"dark-colon-text-surface-50":d(h)})])}),new UTSJSONObject({default:r((()=>[y(b(C.value.length)+"/"+b(e.maxlength),1)])),_:1}),8,["class"])):S("",!0)]})),_:1},8,["class"])}}})),[["__scopeId","data-v-7607c2e0"]]);export{N as _};
