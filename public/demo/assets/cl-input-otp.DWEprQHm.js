import{d as e,h as t,r as l,V as a,a as s,o as u,c as n,w as o,i as p,Y as i,_ as c,e as r,l as d,m as _,u as m,q as v,f as S,g as b,n as f,x as h,F as y,a8 as O}from"./index-OmDYQuYg.js";import{_ as N}from"./cl-input.BHRDzxiI.js";import{r as U,_ as T,c as g}from"./cl-page.uvue_vue_type_script_setup_true_lang.0nEhSiOF.js";class j extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},list:{type:"Unknown",optional:!0},item:{type:"Unknown",optional:!0},cursor:{type:"Unknown",optional:!0},value:{type:"Unknown",optional:!0}}}}}constructor(e,t=j.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,l),this.className=this.__props__.className,this.list=this.__props__.list,this.item=this.__props__.item,this.cursor=this.__props__.cursor,this.value=this.__props__.value,delete this.__props__}}const w=g(e(Object.assign({name:"cl-input-otp"},{__name:"cl-input-otp",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},autofocus:{type:Boolean,default:!1},length:{type:Number,default:4},disabled:{type:Boolean,default:!1},inputType:{type:String,default:"number"}},emits:["update:modelValue","done"],setup(e,g){var j=g.emit;const w=e,J=j,k=t((()=>i(w.pt))),V=l(null),x=l(w.modelValue),$=t((()=>!w.disabled&&(null!=V.value&&V.value.isFocus))),B=t((()=>{const e=[];for(let t=0;t<w.length;t++)e.push(x.value.charAt(t));return e}));function F(e){J("update:modelValue",e),e.length==w.length&&(O(),J("done",e))}a(t((()=>w.modelValue)),(e=>{x.value=e}));const I=l(.3);return(t=null,l=null)=>{const a=U(s("cl-input"),N),i=c,O=U(s("cl-text"),T);return u(),n(i,new UTSJSONObject({class:p(["cl-input-otp",[new UTSJSONObject({}),new UTSJSONObject({"cl-input-otp--disabled":e.disabled}),k.value.className]])}),{default:o((()=>{var t;return[r(i,new UTSJSONObject({class:"cl-input-otp__inner"}),{default:o((()=>[r(a,new UTSJSONObject({modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>x.value=e),ref_key:"inputRef",ref:V,type:e.inputType,pt:new UTSJSONObject({className:"-important-h-full"}),disabled:e.disabled,autofocus:e.autofocus,maxlength:e.length,"hold-keyboard":!1,clearable:!1,onInput:F,onFocus:l[1]||(l[1]=(e=null)=>{}),onBlur:l[2]||(l[2]=(e=null)=>{})}),null,8,["modelValue","type","disabled","autofocus","maxlength"])])),_:1}),r(i,{class:p(["cl-input-otp__list",[new UTSJSONObject({}),null===(t=k.value.list)||void 0===t?null:t.className]])},{default:o((()=>[(u(!0),d(y,null,_(B.value,((t,l)=>{var a;return u(),n(i,{key:l,class:p(["cl-input-otp__item",[new UTSJSONObject({}),new UTSJSONObject({"is-disabled":e.disabled,"is-dark":m(v),"is-active":x.value.length==l&&$.value}),null===(a=k.value.item)||void 0===a?null:a.className]])},{default:o((()=>{var e,a;return[r(O,{pt:{className:null===(e=k.value.value)||void 0===e?null:e.className}},{default:o((()=>[S(b(t),1)])),_:2},1032,["pt"]),x.value.length==l&&$.value&&""==t?(u(),n(i,{key:0,class:p(["cl-input-otp__cursor",[new UTSJSONObject({}),null===(a=k.value.cursor)||void 0===a?null:a.className]]),style:f({opacity:I.value})},null,8,["class","style"])):h("",!0)]})),_:2},1032,["class"])})),128))])),_:1},8,["class"])]})),_:1},8,["class"])}}})),[["__scopeId","data-v-8b53bd79"]]);export{w as _};
