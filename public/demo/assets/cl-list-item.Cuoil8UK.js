import{d as e,Z as t,a9 as s,h as a,H as l,r as n,V as i,a as o,o as c,c as r,w as p,i as u,X as _,a1 as d,_ as f,e as m,v as S,u as w,z as h,f as b,g as v,I as O,p as T,n as y}from"./index-CbBHIjcR.js";import{r as U,a as N,_ as X,c as j}from"./cl-page.uvue_vue_type_script_setup_true_lang.CmWHGyb6.js";import{_ as g}from"./cl-collapse._peHLwmC.js";class x extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0},label:{type:"Unknown",optional:!0},content:{type:"Unknown",optional:!0},icon:{type:"Unknown",optional:!0},collapse:{type:"Unknown",optional:!0}}}}}constructor(e,t=x.get$UTSMetadata$(),s=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,s),this.className=this.__props__.className,this.inner=this.__props__.inner,this.label=this.__props__.label,this.content=this.__props__.content,this.icon=this.__props__.icon,this.collapse=this.__props__.collapse,delete this.__props__}}class J extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{width:{type:Number,optional:!1},maxX:{type:Number,optional:!1},startX:{type:Number,optional:!1},endX:{type:Number,optional:!1},offsetX:{type:Number,optional:!1},direction:{type:"Unknown",optional:!1},moveDirection:{type:"Unknown",optional:!1}}}}}constructor(e,t=J.get$UTSMetadata$(),s=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,s),this.width=this.__props__.width,this.maxX=this.__props__.maxX,this.startX=this.__props__.startX,this.endX=this.__props__.endX,this.offsetX=this.__props__.offsetX,this.direction=this.__props__.direction,this.moveDirection=this.__props__.moveDirection,delete this.__props__}}const k=j(e(Object.assign({name:"cl-list-item"},{__name:"cl-list-item",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},icon:{type:String,default:""},label:{type:String,default:""},justify:{type:String,default:"end"},arrow:{type:Boolean,default:!1},swipeable:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1}},setup(e,j){var x=j.expose;const k=e,$=t().proxy,D=s(),z=a((()=>_(k.pt))),B=l(new J({width:0,maxX:0,startX:0,endX:0,offsetX:0,direction:"left",moveDirection:"left"}));function M(){if(!k.swipeable)return null;B.direction=null!=D["swipe-left"]?"right":"left",d().in($).select(".cl-list-item__swipe").boundingClientRect(((e=null)=>{var t;B.width=null!==(t=e.width)&&void 0!==t?t:0,B.maxX=B.width*("left"==B.direction?-1:1)})).exec()}function V(e){B.offsetX=e,B.endX=e}const C=n(!1);function I(e){C.value=!0,k.swipeable&&(B.startX=e.touches[0].pageX)}function P(){if(C.value){const e=B.width/2>50?50:B.width/2,t=Math.abs(B.offsetX-B.endX);C.value=!1,t>e?B.direction==B.moveDirection?V(B.maxX):V(0):V(0==B.endX?0:B.maxX)}}function H(){C.value=!1}function R(e){if(C.value){const t=e.touches[0].pageX-B.startX;B.moveDirection=t>0?"right":"left";let s=t+B.endX;"right"==B.direction&&(s>B.maxX&&(s=B.maxX),s<0&&(s=0)),"left"==B.direction&&(s<B.maxX&&(s=B.maxX),s>0&&(s=0)),B.offsetX=s}}const Z=n(!1);function q(){k.collapse&&(Z.value=!Z.value)}return i((()=>{setTimeout((()=>{M()}),0)})),x(new UTSJSONObject({initSwipe:M,resetSwipe:function(){B.startX=0,B.endX=0,B.offsetX=0}})),(t=null,s=null)=>{const a=U(o("cl-icon"),N),l=U(o("cl-text"),X),n=f,i=U(o("cl-collapse"),g);return c(),r(n,new UTSJSONObject({class:u(["cl-list-item",[new UTSJSONObject({}),new UTSJSONObject({"cl-list-item--disabled":e.disabled}),z.value.className]]),onTouchstart:I,onTouchend:P,onTouchmove:R,onTouchcancel:H}),{default:p((()=>{var o;return[m(n,new UTSJSONObject({class:u(["cl-list-item__wrapper",[new UTSJSONObject({}),new UTSJSONObject({"is-transition":!C.value,[w(T)?"bg-surface-800":"bg-white"]:!0,[w(T)?"-important-bg-surface-700":"-important-bg-surface-50"]:e.hoverable&&C.value})]]),style:y({transform:"translateX(".concat(B.offsetX,"px)")}),onClick:q}),{default:p((()=>{var s;return[m(n,{class:u(["cl-list-item__inner",[new UTSJSONObject({}),null===(s=z.value.inner)||void 0===s?null:s.className]])},{default:p((()=>{var s,i,o,_,d,f;return[e.icon?(c(),r(a,{key:0,name:e.icon,size:null!==(i=null===(s=z.value.icon)||void 0===s?null:s.size)&&void 0!==i?i:36,color:null===(o=z.value.icon)||void 0===o?null:o.color,pt:{className:"mr-3 ".concat(null===(_=z.value.icon)||void 0===_?null:_.className)}},null,8,["name","size","color","pt"])):S("",!0),e.label?(c(),r(l,{key:1,pt:{className:w(h)(["cl-list-item__label whitespace-nowrap overflow-visible",["start"==e.justify,"w-24"],null===(d=z.value.label)||void 0===d?null:d.className])}},new UTSJSONObject({default:p((()=>[b(v(e.label),1)])),_:1}),8,["pt"])):S("",!0),m(n,{class:u(["cl-list-item__content",[new UTSJSONObject({}),new UTSJSONObject({"justify-start":"start"==e.justify,"justify-center":"center"==e.justify,"justify-end":"end"==e.justify}),null===(f=z.value.content)||void 0===f?null:f.className]])},{default:p((()=>[O(t.$slots,"default",new UTSJSONObject({}),void 0,!0)])),_:3},8,["class"]),e.arrow?(c(),r(a,new UTSJSONObject({key:2,name:"arrow-right-s-line",size:36,pt:new UTSJSONObject({className:w(h)(["-important-text-surface-400 ml-1 duration-200",new UTSJSONObject({"rotate-90":Z.value})])})}),null,8,["pt"])):S("",!0)]})),_:3},8,["class"]),e.swipeable?(c(),r(n,new UTSJSONObject({key:0,class:u([new UTSJSONObject({}),"cl-list-item__swipe","cl-list-item__swipe-".concat(B.direction)])}),new UTSJSONObject({default:p((()=>[O(t.$slots,"swipe-left",new UTSJSONObject({}),void 0,!0),O(t.$slots,"swipe-right",new UTSJSONObject({}),void 0,!0)])),_:3}),8,["class"])):S("",!0)]})),_:3},8,["class","style"]),m(i,{modelValue:Z.value,"onUpdate:modelValue":s[0]||(s[0]=(e=null)=>Z.value=e),pt:{className:w(h)(["p--bracket-start-24rpx-bracket-end-",null===(o=z.value.collapse)||void 0===o?null:o.className])}},{default:p((()=>[O(t.$slots,"collapse",new UTSJSONObject({}),void 0,!0)])),_:3},8,["modelValue","pt"])]})),_:3},8,["class"])}}})),[["__scopeId","data-v-fd8d2591"]]);export{k as _};
