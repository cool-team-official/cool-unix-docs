import{r as e,_ as l,c as a,b as t}from"./cl-page.uvue_vue_type_script_setup_true_lang.fA40QWeW.js";import{Z as u,d as n,c as s,z as o,T as i,r as p,o as c,a as d,w as r,n as m,U as v,_,b,W as S,u as T,X as O,V as U,t as N,x as f}from"./index-utI040hk.js";import{_ as h}from"./cl-input.DQxBqTY-.js";import{v as j}from"./index.U6ITPUe7.js";import{_ as w}from"./cl-switch.D2m-zvw7.js";import{_ as y,a as J}from"./cl-list.D_4mG1WC.js";import{D as V}from"./item.BWEnuJzD.js";import"./cl-collapse.BFQreZNL.js";import"./item.uvue_vue_type_style_index_0_scoped_f51a3be8_lang.CqP3ivIA.js";class g extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},input:{type:"Unknown",optional:!0}}}}}constructor(e,l=g.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,a),this.className=this.__props__.className,this.input=this.__props__.input,delete this.__props__}}class x extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},minus:{type:"Unknown",optional:!0},plus:{type:"Unknown",optional:!0},icon:{type:"Unknown",optional:!0}}}}}constructor(e,l=x.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,a),this.className=this.__props__.className,this.minus=this.__props__.minus,this.plus=this.__props__.plus,this.icon=this.__props__.icon,delete this.__props__}}class z extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},value:{type:g,optional:!0},op:{type:x,optional:!0}}}}}constructor(e,l=z.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,a),this.className=this.__props__.className,this.value=this.__props__.value,this.op=this.__props__.op,delete this.__props__}}const $=a(n(Object.assign({name:"cl-input-number"},{__name:"cl-input-number",props:{modelValue:{type:Number,default:0},pt:{type:Object,default:()=>new UTSJSONObject({})},placeholder:{type:String,default:""},step:{type:Number,default:1},max:{type:Number,default:100},min:{type:Number,default:0},inputType:{type:String,default:"number"},inputable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:50}},emits:["update:modelValue","change"],setup(a,t){var n=t.emit;const N=a,f=n,w=(()=>{let e=0,l=0,a=!1;const t=()=>{0!=e&&(clearTimeout(e),e=0),0!=l&&(clearInterval(l),l=0),a=!1};return u((()=>{t()})),{start:u=>{t(),u(),e=setTimeout((()=>{j(1),a=!0,l=setInterval((()=>{u()}),100)}),500)},stop:()=>{t()},clear:t,isPressing:a}})(),y=s((()=>v(N.pt))),J=o(N.modelValue),V=s((()=>!N.disabled&&J.value<N.max)),g=s((()=>!N.disabled&&J.value>N.min));function x(){U((()=>{let e=J.value;e<N.min&&(e=N.min),e>N.max&&(e=N.max),N.min>N.max&&(e=N.max),"digit"==N.inputType&&(e=parseFloat(e.toFixed(2))),e!=J.value&&(J.value=e),f("update:modelValue",e),f("change",e)}))}function z(){if(N.disabled||!V.value)return null;w.start((()=>{if(V.value){const e=N.max-J.value;J.value+=e>N.step?N.step:e,x()}}))}function $(){if(N.disabled||!g.value)return null;w.start((()=>{if(g.value){const e=J.value-N.min;J.value-=e>N.step?N.step:e,x()}}))}function k(e){J.value=""==e?0:parseFloat(e),x()}return i(s((()=>N.modelValue)),(e=>{J.value=e,x()}),{immediate:!0}),i(s((()=>N.max)),x),i(s((()=>N.min)),x),(t=null,u=null)=>{const n=e(p("cl-icon"),l),s=_,o=e(p("cl-input"),h);return c(),d(s,new UTSJSONObject({class:m(["cl-input-number",[new UTSJSONObject({}),new UTSJSONObject({"cl-input-number--disabled":a.disabled}),y.value.className]])}),{default:r((()=>{var e,l,t,u,i,p;return[b(s,{class:m(["cl-input-number__minus",[new UTSJSONObject({}),new UTSJSONObject({"is-disabled":!g.value}),null===(e=y.value.op)||void 0===e?null:e.className,null===(t=null===(l=y.value.op)||void 0===l?null:l.minus)||void 0===t?null:t.className]]),"hover-class":"-important-bg-surface-200","hover-stay-time":50,style:S({height:T(O)(a.size),width:T(O)(a.size)}),onTouchstart:$,onTouchend:T(w).stop,onTouchcancel:T(w).stop},{default:r((()=>{var e,l,a,t,u,s,o,i;return[b(n,{name:"subtract-line",size:null!==(a=null===(l=null===(e=y.value.op)||void 0===e?null:e.icon)||void 0===l?null:l.size)&&void 0!==a?a:36,color:null!==(s=null===(u=null===(t=y.value.op)||void 0===t?null:t.icon)||void 0===u?null:u.color)&&void 0!==s?s:"info",pt:{className:null===(i=null===(o=y.value.op)||void 0===o?null:o.icon)||void 0===i?null:i.className}},null,8,["size","color","pt"])]})),_:1},8,["class","style","onTouchend","onTouchcancel"]),b(s,new UTSJSONObject({class:"cl-input-number__value"}),{default:r((()=>{var e,l,t;return[b(o,{"model-value":"".concat(J.value),type:a.inputType,disabled:a.disabled,clearable:!1,readonly:0==a.inputable,placeholder:a.placeholder,"hold-keyboard":!1,pt:{className:"-important-h-full w--bracket-start-120rpx-bracket-end- ".concat(null===(e=y.value.value)||void 0===e?null:e.className),inner:{className:"text-center ".concat(null===(t=null===(l=y.value.value)||void 0===l?null:l.input)||void 0===t?null:t.className)}},onChange:k},null,8,["model-value","type","disabled","readonly","placeholder","pt"])]})),_:1}),b(s,{class:m(["cl-input-number__plus",[new UTSJSONObject({}),new UTSJSONObject({"is-disabled":!V.value}),null===(u=y.value.op)||void 0===u?null:u.className,null===(p=null===(i=y.value.op)||void 0===i?null:i.plus)||void 0===p?null:p.className]]),"hover-class":"-important-bg-primary-600","hover-stay-time":50,style:S({height:T(O)(a.size),width:T(O)(a.size)}),onTouchstart:z,onTouchend:T(w).stop,onTouchcancel:T(w).stop},{default:r((()=>{var e,l,a,t,u,s,o,i;return[b(n,{name:"add-line",size:null!==(a=null===(l=null===(e=y.value.op)||void 0===e?null:e.icon)||void 0===l?null:l.size)&&void 0!==a?a:36,color:null!==(s=null===(u=null===(t=y.value.op)||void 0===t?null:t.icon)||void 0===u?null:u.color)&&void 0!==s?s:"white",pt:{className:null===(i=null===(o=y.value.op)||void 0===o?null:o.icon)||void 0===i?null:i.className}},null,8,["size","color","pt"])]})),_:1},8,["class","style","onTouchend","onTouchcancel"])]})),_:1},8,["class"])}}})),[["__scopeId","data-v-6397c767"]]),k=n({__name:"input-number",setup(l){const a=o(0),u=o(!1),n=o(!1),s=o(!1),i=o(!1),m=o(!0),v=o(!1),S=o(!1),O=o(!1);return(l=null,o=null)=>{const U=e(p("cl-input-number"),$),h=_,j=e(p("cl-switch"),w),g=e(p("cl-list-item"),y),x=e(p("cl-list"),J),z=e(p("cl-page"),t);return c(),d(z,null,new UTSJSONObject({default:r((()=>[b(h,new UTSJSONObject({class:"p-3"}),{default:r((()=>[b(T(V),new UTSJSONObject({label:T(N)("基础用法")}),{default:r((()=>[b(U)])),_:1},8,["label"]),b(T(V),new UTSJSONObject({label:T(N)("自定义")}),{default:r((()=>[b(h,new UTSJSONObject({class:"mb-5 flex flex-row justify-center"}),{default:r((()=>[b(U,new UTSJSONObject({modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=(e=null)=>a.value=e),step:u.value?10:1,min:n.value?10:0,max:s.value?50:100,"input-type":i.value?"digit":"number",inputable:m.value,disabled:v.value,size:S.value?60:50,pt:new UTSJSONObject({op:new UTSJSONObject({className:T(f)(new UTSJSONObject({"-important-rounded-full":O.value}))}),value:new UTSJSONObject({className:T(f)(new UTSJSONObject({"-important-rounded-full":O.value}))})})}),null,8,["modelValue","step","min","max","input-type","inputable","disabled","size","pt"])])),_:1}),b(x,new UTSJSONObject({border:""}),{default:r((()=>[b(g,new UTSJSONObject({label:T(N)("步进为10")}),{default:r((()=>[b(j,new UTSJSONObject({modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=(e=null)=>u.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(g,new UTSJSONObject({label:T(N)("最小为10")}),{default:r((()=>[b(j,new UTSJSONObject({modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=(e=null)=>n.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(g,new UTSJSONObject({label:T(N)("最大为50")}),{default:r((()=>[b(j,new UTSJSONObject({modelValue:s.value,"onUpdate:modelValue":o[3]||(o[3]=(e=null)=>s.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(g,new UTSJSONObject({label:T(N)("可以小数")}),{default:r((()=>[b(j,new UTSJSONObject({modelValue:i.value,"onUpdate:modelValue":o[4]||(o[4]=(e=null)=>i.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(g,new UTSJSONObject({label:T(N)("可以输入")}),{default:r((()=>[b(j,new UTSJSONObject({modelValue:m.value,"onUpdate:modelValue":o[5]||(o[5]=(e=null)=>m.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(g,new UTSJSONObject({label:T(N)("禁用")}),{default:r((()=>[b(j,new UTSJSONObject({modelValue:v.value,"onUpdate:modelValue":o[6]||(o[6]=(e=null)=>v.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(g,new UTSJSONObject({label:T(N)("大一点")}),{default:r((()=>[b(j,new UTSJSONObject({modelValue:S.value,"onUpdate:modelValue":o[7]||(o[7]=(e=null)=>S.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(g,new UTSJSONObject({label:T(N)("自定义样式")}),{default:r((()=>[b(j,new UTSJSONObject({modelValue:O.value,"onUpdate:modelValue":o[8]||(o[8]=(e=null)=>O.value=e)}),null,8,["modelValue"])])),_:1},8,["label"])])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}))}}});export{k as default};
