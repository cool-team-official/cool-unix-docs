import{d as e,a4 as t,c as l,z as s,T as a,a5 as i,o as n,a as o,w as r,n as u,u as c,W as d,U as p,a6 as _,_ as v,b,g as h,h as f,X as S,H as y,e as m,f as w,j as T,F as U,p as g,E as O,a7 as N,V as j,l as k,at as x,P as J,aa as $}from"./index-Cd0MiOFL.js";import{c as A}from"./cl-page.uvue_vue_type_script_setup_true_lang.D4-Wlcfk.js";class M extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{label:{type:String,optional:!1},value:{type:"Unknown",optional:!1},disabled:{type:Boolean,optional:!1},isActive:{type:Boolean,optional:!1}}}}}constructor(e,t=M.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,l),this.label=this.__props__.label,this.value=this.__props__.value,this.disabled=this.__props__.disabled,this.isActive=this.__props__.isActive,delete this.__props__}}class C extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},text:{type:"Unknown",optional:!0},item:{type:"Unknown",optional:!0},line:{type:"Unknown",optional:!0},slider:{type:"Unknown",optional:!0}}}}}constructor(e,t=C.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,l),this.className=this.__props__.className,this.text=this.__props__.text,this.item=this.__props__.item,this.line=this.__props__.line,this.slider=this.__props__.slider,delete this.__props__}}class B extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{left:{type:Number,optional:!1},width:{type:Number,optional:!1}}}}}constructor(e,t=B.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,l),this.left=this.__props__.left,this.width=this.__props__.width,delete this.__props__}}const V=A(e(Object.assign({name:"cl-tabs"},{__name:"cl-tabs",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:[String,Number],default:""},height:{type:[String,Number],default:80},list:{type:Array,default:()=>[]},fill:{type:Boolean,default:!1},gutter:{type:Number,default:30},color:{type:String,default:""},unColor:{type:String,default:""},showLine:{type:Boolean,default:!0},showSlider:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,A){var C=A.emit;const V=e,P=C,z=t().proxy,L=l((()=>p(V.pt))),X=s(V.modelValue),I=l((()=>V.list.map((e=>{var t;return new M({label:e.label,value:e.value,disabled:null!==(t=e.disabled)&&void 0!==t&&t,isActive:e.value==X.value})}))));function E(e){let t;return t=e?V.color:V.unColor,N(t)?null:t}const F=s(0),H=s(0),R=s(0),W=s(0),q=s(0),D=s(0),G=s([]),K=l((()=>{const e=new Map;e.set("transform","translateX(".concat(R.value,"px)"));const t=E(!0);return null!=t&&e.set("backgroundColor",t),e})),Q=l((()=>{const e=new Map;e.set("transform","translateX(".concat(W.value,"px)")),e.set("width",q.value+"px");const t=E(!0);return null!=t&&e.set("backgroundColor",t),e}));function Y(e){const t=new Map,l=E(e.isActive);return null!=l&&t.set("color",l),t}function Z(){j((()=>{if(!N(G.value)){const e=G.value[function(){const e=I.value.findIndex((e=>e.isActive));return-1==e?0:e}()];if(!J(e)){let t=e.left-(F.value-e.width)/2-H.value;t<0&&(t=0),D.value=t,R.value=e.left+e.width/2-$(16)-H.value,W.value=e.left-H.value,q.value=e.width}}}))}function ee(){setTimeout((()=>{_().in(z).select(".cl-tabs").boundingClientRect(((e=null)=>{var t,l;H.value=null!==(t=e.left)&&void 0!==t?t:0,F.value=null!==(l=e.width)&&void 0!==l?l:0,_().in(z).selectAll(".cl-tabs__item").fields(new UTSJSONObject({rect:!0,size:!0}),(()=>{})).exec((e=>{G.value=e[0].map((e=>{var t,l;return new B({left:null!==(t=e.left)&&void 0!==t?t:0,width:null!==(l=e.width)&&void 0!==l?l:0})})),Z()}))})).exec()}),0)}return a(l((()=>V.modelValue)),(e=>{X.value=e,Z()}),{immediate:!0}),a(l((()=>V.list)),(()=>{j((()=>{ee()}))})),i((()=>{ee()})),(t=null,l=null)=>{const s=k,a=v,i=x;return n(),o(a,new UTSJSONObject({class:u(["cl-tabs",[new UTSJSONObject({}),new UTSJSONObject({"cl-tabs--line":e.showLine,"cl-tabs--slider":e.showSlider,"cl-tabs--fill":e.fill,"cl-tabs--disabled":e.disabled,"is-dark":c(m)}),L.value.className]]),style:d({height:c(S)(e.height)})}),{default:r((()=>[b(i,new UTSJSONObject({class:"cl-tabs__scrollbar","scroll-with-animation":!0,"scroll-x":!0,direction:"horizontal","scroll-left":D.value,"show-scrollbar":!1}),{default:r((()=>[b(a,new UTSJSONObject({class:"cl-tabs__inner"}),{default:r((()=>{var l,i;return[(n(!0),h(U,null,f(I.value,((l,i)=>{var p;return n(),o(a,{class:u(["cl-tabs__item",[new UTSJSONObject({}),null===(p=L.value.item)||void 0===p?null:p.className]]),key:i,style:d({padding:"0 ".concat(c(S)(e.gutter))}),onClick:(e=null)=>function(e){return O(this,void 0,void 0,(function*(){if(V.disabled)return!1;const t=I.value[e],l=t.value;if(t.disabled)return!1;P("update:modelValue",l),P("change",l)}))}(i)},{default:r((()=>[y(t.$slots,"item",new UTSJSONObject({item:l,active:l.isActive}),(()=>{var t;return[b(s,{class:u(["cl-tabs__item-label",[new UTSJSONObject({"dark-colon-text-surface-50":c(m)}),new UTSJSONObject({"is-active":l.isActive,"is-disabled":l.disabled,"is-dark":c(m),"is-fill":e.fill}),null===(t=L.value.text)||void 0===t?null:t.className]]),style:d(Y(l))},{default:r((()=>[w(T(l.label),1)])),_:2},1032,["class","style"])]}),!0)])),_:2},1032,["class","style","onClick"])})),128)),R.value>0?(n(),h(U,new UTSJSONObject({key:0}),[e.showLine?(n(),o(a,{key:0,class:u(["cl-tabs__line",[new UTSJSONObject({}),null===(l=L.value.line)||void 0===l?null:l.className]]),style:d(K.value)},null,8,["class","style"])):g("",!0),e.showSlider?(n(),o(a,{key:1,class:u(["cl-tabs__slider",[new UTSJSONObject({}),null===(i=L.value.slider)||void 0===i?null:i.className]]),style:d(Q.value)},null,8,["class","style"])):g("",!0)],64)):g("",!0)]})),_:3})])),_:3},8,["scroll-left"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-e1ae4efc"]]);export{V as _};
