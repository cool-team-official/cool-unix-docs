import{d as t,a8 as e,ac as a,c as s,G as l,U as n,T as r,V as i,o,a as c,w as u,n as p,X as _,u as d,W as S,_ as b,b as O,j as f,k as m,a2 as T,H as h,e as U,f as N,g as x,F as y,m as w,a9 as j,r as g,t as J}from"./index-oaRQvvbJ.js";import{c as v,r as X,_ as $,b as k}from"./cl-page.uvue_vue_type_script_setup_true_lang.DgMmTlhG.js";import{D as M}from"./item.CYoAy5gw.js";import"./item.uvue_vue_type_style_index_0_scoped_f51a3be8_lang.Bm1wRfHZ.js";class z extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},text:{type:"Unknown",optional:!0}}}}}constructor(t,e=z.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(t,e,a),this.className=this.__props__.className,this.text=this.__props__.text,delete this.__props__}}class A extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{left:{type:Number,optional:!1},top:{type:Number,optional:!1},translateX:{type:Number,optional:!1},duration:{type:Number,optional:!1}}}}}constructor(t,e=A.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(t,e,a),this.left=this.__props__.left,this.top=this.__props__.top,this.translateX=this.__props__.translateX,this.duration=this.__props__.duration,delete this.__props__}}const I=v(t(Object.assign({name:"cl-noticebar"},{__name:"cl-noticebar",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},text:{type:[String,Array],default:""},direction:{type:String,default:"horizontal"},duration:{type:Number,default:3e3},speed:{type:Number,default:100},height:{type:[String,Number],default:40}},emits:["close"],setup(t,g){g.emit;const J=t,v=e().proxy,X=a().windowWidth,$=s((()=>S(J.pt))),k=l(new A({left:X,top:0,translateX:0,duration:0}));let M=0;const z=s((()=>Array.isArray(J.text)?J.text:[J.text])),I=s((()=>{const t=new UTSJSONObject({});return"horizontal"==J.direction?(t.left="".concat(k.left,"px"),t.transform="translateX(-".concat(k.translateX,"px)"),t["transition-duration"]="".concat(k.duration,"ms")):t.transform="translateY(".concat(k.top,"px)"),t}));function C(){0!=M&&(clearInterval(M),clearTimeout(M),M=0)}return n((()=>{r(s((()=>J.text)),(()=>{C(),j().in(v).select(".cl-noticebar").boundingClientRect(((t=null)=>{var e,a;const s=null!==(e=t.height)&&void 0!==e?e:0,l=null!==(a=t.width)&&void 0!==a?a:0;j().in(v).select(".cl-noticebar__text").boundingClientRect(((t=null)=>{var e;if("horizontal"==J.direction){let a=function(){k.translateX=s+l,k.duration=Math.ceil(k.translateX/J.speed*1e3),k.left=l,M=setTimeout((()=>{k.translateX=0,k.duration=0,setTimeout((()=>{a()}),100)}),k.duration)};const s=null!==(e=t.width)&&void 0!==e?e:0;a()}else M=setInterval((()=>{Math.abs(k.top)>=s*(z.value.length-1)?k.top=0:k.top-=s}),J.duration)})).exec()})).exec()}),{immediate:!0})})),i((()=>{C()})),(e=null,a=null)=>{const s=w,l=b;return o(),c(l,new UTSJSONObject({class:p(["cl-noticebar",[new UTSJSONObject({}),$.value.className]]),style:_({height:d(T)(t.height)})}),{default:u((()=>[O(l,new UTSJSONObject({class:p(["cl-noticebar__scroller",[new UTSJSONObject({}),"is-".concat(t.direction)]]),style:_(I.value)}),{default:u((()=>[(o(!0),f(y,null,m(z.value,((a,n)=>(o(),c(l,new UTSJSONObject({key:n,class:"cl-noticebar__item",style:_({height:d(T)(t.height)})}),{default:u((()=>[h(e.$slots,"text",new UTSJSONObject({item:a}),(()=>{var t;return[O(s,{class:p(["cl-noticebar__text",[new UTSJSONObject({"dark-colon-text-surface-50":d(U),"dark-colon--important-text-white":d(U)}),null===(t=$.value.text)||void 0===t?null:t.className]])},{default:u((()=>[N(x(a),1)])),_:2},1032,["class"])]}),!0)])),_:2},1032,["style"])))),128))])),_:3},8,["class","style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-fe372e1d"]]),C=t({__name:"noticebar",setup:t=>(t=null,e=null)=>{const a=X(g("cl-noticebar"),I),s=X(g("cl-icon"),$),l=b,n=X(g("cl-page"),k);return o(),c(n,null,new UTSJSONObject({default:u((()=>[O(l,new UTSJSONObject({class:"p-3"}),{default:u((()=>[O(d(M),new UTSJSONObject({label:d(J)("基础用法")}),{default:u((()=>[O(a,new UTSJSONObject({text:"云想衣裳花想容，春风拂槛露华浓。若非群玉山头见，会向瑶台月下逢。"}))])),_:1},8,["label"]),O(d(M),new UTSJSONObject({label:d(J)("带图标")}),{default:u((()=>[O(l,new UTSJSONObject({class:"flex flex-row items-center"}),{default:u((()=>[O(s,new UTSJSONObject({name:"notification-4-line",class:"mr-2"})),O(a,new UTSJSONObject({text:"云想衣裳花想容，春风拂槛露华浓。若非群玉山头见，会向瑶台月下逢。"}))])),_:1})])),_:1},8,["label"]),O(d(M),new UTSJSONObject({label:d(J)("设置速度")}),{default:u((()=>[O(a,new UTSJSONObject({speed:40,text:"云想衣裳花想容，春风拂槛露华浓。若非群玉山头见，会向瑶台月下逢。"}))])),_:1},8,["label"]),O(d(M),new UTSJSONObject({label:d(J)("垂直方向")}),{default:u((()=>[O(a,new UTSJSONObject({direction:"vertical",text:["江南可采莲，莲叶何田田","鱼戏莲叶间","鱼戏莲叶东","鱼戏莲叶西","鱼戏莲叶南","鱼戏莲叶北"]}))])),_:1},8,["label"])])),_:1})])),_:1}))}});export{C as default};
