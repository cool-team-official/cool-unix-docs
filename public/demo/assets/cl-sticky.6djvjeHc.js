import{d as t,a3 as e,M as s,r as a,h as l,a4 as i,X as o,o as p,c as n,w as u,n as r,q as c,a0 as h,a5 as _,a7 as d,_ as f,e as S,N as v,i as T}from"./index-CNagV5B9.js";import{m as y,c as g}from"./cl-page.uvue_vue_type_script_setup_true_lang.Dujw6vu5.js";class w extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{height:{type:Number,optional:!1},width:{type:Number,optional:!1},left:{type:Number,optional:!1},top:{type:Number,optional:!1}}}}}constructor(t,e=w.get$UTSMetadata$(),s=!1){super(),this.__props__=UTS.UTSType.initProps(t,e,s),this.height=this.__props__.height,this.width=this.__props__.width,this.left=this.__props__.left,this.top=this.__props__.top,delete this.__props__}}const b=g(t(Object.assign({name:"cl-sticky"},{__name:"cl-sticky",props:{offsetTop:{type:Number,default:0},zIndex:{type:Number,default:100},scrollTop:{type:Number,default:0}},setup(t,g){var b=g.expose;const m=t,N=e().proxy,O=y().onScroll,U=s(new w({height:0,width:0,left:0,top:0})),x=a(0),j=l((()=>0!=U.height&&x.value>=U.top)),J=l((()=>{if(j.value){let t=0;return c.isCustomNavbarPage()||(t=44),t+m.offsetTop}return 0}));function k(){h((()=>{setTimeout((()=>{_().in(N).select(".cl-sticky").boundingClientRect().exec((t=>{var e,s,a,l;if(d(t))return null;const i=t[0];U.height=null!==(e=i.height)&&void 0!==e?e:0,U.width=null!==(s=i.width)&&void 0!==s?s:0,U.left=null!==(a=i.left)&&void 0!==a?a:0,U.top=(null!==(l=i.top)&&void 0!==l?l:0)-m.offsetTop+x.value}))}),0)}))}return i((()=>{k(),O((t=>{x.value=t})),o(l((()=>m.scrollTop)),(t=>{x.value=t}),{immediate:!0})})),b(new UTSJSONObject({getRect:k})),(e=null,s=null)=>{const a=f;return p(),n(a,new UTSJSONObject({class:"cl-sticky-wrapper",style:r({height:0==U.height?"auto":U.height+"px",zIndex:t.zIndex})}),new UTSJSONObject({default:u((()=>[S(a,new UTSJSONObject({class:T(["cl-sticky",[new UTSJSONObject({}),new UTSJSONObject({"is-active":j.value})]]),style:r({width:j.value?U.width+"px":"100%",left:j.value?U.left+"px":0,top:J.value+"px"})}),{default:u((()=>[v(e.$slots,"default",new UTSJSONObject({}),void 0,!0),v(e.$slots,"content",new UTSJSONObject({isSticky:j.value}),void 0,!0)])),_:3},8,["class","style"])])),_:3}),8,["style"])}}})),[["__scopeId","data-v-c233a88c"]]);export{b as _};
