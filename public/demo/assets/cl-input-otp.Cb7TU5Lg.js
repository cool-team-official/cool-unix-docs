import{d as e,c as l,z as t,T as a,r as s,o as u,a as n,w as o,n as p,U as i,_ as c,b as r,g as d,h as _,u as m,e as v,f as S,j as b,W as f,p as h,F as O,a0 as y,l as U}from"./index-D_tQ-ve6.js";import{_ as T}from"./cl-input.doyWsdBT.js";import{r as N,c as g}from"./cl-page.uvue_vue_type_script_setup_true_lang.CnnNiCbP.js";class j extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},list:{type:"Unknown",optional:!0},item:{type:"Unknown",optional:!0},cursor:{type:"Unknown",optional:!0},value:{type:"Unknown",optional:!0}}}}}constructor(e,l=j.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,t),this.className=this.__props__.className,this.list=this.__props__.list,this.item=this.__props__.item,this.cursor=this.__props__.cursor,this.value=this.__props__.value,delete this.__props__}}const w=g(e(Object.assign({name:"cl-input-otp"},{__name:"cl-input-otp",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},autofocus:{type:Boolean,default:!1},length:{type:Number,default:4},disabled:{type:Boolean,default:!1},inputType:{type:String,default:"number"}},emits:["update:modelValue","done"],setup(e,g){var j=g.emit;const w=e,k=j,J=l((()=>i(w.pt))),V=t(null),x=t(w.modelValue),$=l((()=>!w.disabled&&(null!=V.value&&V.value.isFocus))),B=l((()=>{const e=[];for(let l=0;l<w.length;l++)e.push(x.value.charAt(l));return e}));function F(e){k("update:modelValue",e),e.length==w.length&&(y(),k("done",e))}a(l((()=>w.modelValue)),(e=>{x.value=e}));const I=t(.3);return(l=null,t=null)=>{const a=N(s("cl-input"),T),i=c,y=U;return u(),n(i,new UTSJSONObject({class:p(["cl-input-otp",[new UTSJSONObject({}),J.value.className]])}),{default:o((()=>{var l;return[r(i,new UTSJSONObject({class:"cl-input-otp__inner"}),{default:o((()=>[r(a,new UTSJSONObject({modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=(e=null)=>x.value=e),ref_key:"inputRef",ref:V,type:e.inputType,pt:new UTSJSONObject({className:"-important-h-full"}),disabled:e.disabled,autofocus:e.autofocus,maxlength:e.length,"hold-keyboard":!1,clearable:!1,onInput:F,onFocus:t[1]||(t[1]=(e=null)=>{}),onBlur:t[2]||(t[2]=(e=null)=>{})}),null,8,["modelValue","type","disabled","autofocus","maxlength"])])),_:1}),r(i,{class:p(["cl-input-otp__list",[new UTSJSONObject({}),null===(l=J.value.list)||void 0===l?null:l.className]])},{default:o((()=>[(u(!0),d(O,null,_(B.value,((l,t)=>{var a;return u(),n(i,{key:t,class:p(["cl-input-otp__item",[new UTSJSONObject({}),new UTSJSONObject({"is-disabled":e.disabled,"is-dark":m(v),"is-active":x.value.length==t&&$.value}),null===(a=J.value.item)||void 0===a?null:a.className]])},{default:o((()=>{var a,s;return[r(y,{class:p(["cl-input-otp__value",[new UTSJSONObject({"dark-colon-text-surface-50":m(v)}),new UTSJSONObject({"is-disabled":e.disabled,"is-dark":m(v)}),null===(a=J.value.value)||void 0===a?null:a.className]])},{default:o((()=>[S(b(l),1)])),_:2},1032,["class"]),x.value.length==t&&$.value&&""==l?(u(),n(i,{key:0,class:p(["cl-input-otp__cursor",[new UTSJSONObject({}),null===(s=J.value.cursor)||void 0===s?null:s.className]]),style:f({opacity:I.value})},null,8,["class","style"])):h("",!0)]})),_:2},1032,["class"])})),128))])),_:1},8,["class"])]})),_:1},8,["class"])}}})),[["__scopeId","data-v-3164d4ee"]]);export{w as _};
