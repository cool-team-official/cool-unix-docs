import{r as e,_ as t,a,d as c,b as n,u as l}from"./cl-page.uvue_vue_type_script_setup_true_lang.BYryoqR_.js";import{d as s,r,h as o,a as i,o as p,c as u,w as m,e as S,u as O,$ as d,f as b,g as w,t as N,i as f,p as _,l as j,m as T,z as k,F as U,v as h,a4 as J,_ as x}from"./index-C9No-3tr.js";import{_ as v}from"./cl-topbar.B7xwTd3U.js";import{_ as g}from"./cl-sticky.DRizh4xC.js";import{_ as y}from"./cl-image.DwFbq0Li.js";import{_ as z}from"./cl-input-number.DuNtvwsU.js";import{_ as C}from"./cl-list-item.CdMQn2NF.js";import{_ as V}from"./cl-empty.DAZyhBR2.js";import{_ as B}from"./cl-checkbox.CAtZ070-.js";import{_ as G}from"./cl-footer.CPL-dXAo.js";import"./cl-input.K5De0Fv8.js";import"./form.D4AfNkl8.js";import"./index.U6ITPUe7.js";import"./cl-collapse.B2asYdjY.js";class $ extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{id:{type:Number,optional:!1},name:{type:String,optional:!1},count:{type:Number,optional:!1},price:{type:Number,optional:!1},cover:{type:String,optional:!1},skuName:{type:String,optional:!1},checked:{type:Boolean,optional:!1}}}}}constructor(e,t=$.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,a),this.id=this.__props__.id,this.name=this.__props__.name,this.count=this.__props__.count,this.price=this.__props__.price,this.cover=this.__props__.cover,this.skuName=this.__props__.skuName,this.checked=this.__props__.checked,delete this.__props__}}const A=s({__name:"shopping-cart",setup(s){const A=l(),L=r([new $({id:1,name:"Apple iPad",count:1,price:450,cover:"https://img.yzcdn.cn/vant/ipad.png",skuName:"深空灰色 128GB WLAN版",checked:!0}),new $({id:2,name:"Samsung Galaxy S24",count:2,price:699,cover:"https://img.yzcdn.cn/vant/samsung.png",skuName:"曜石黑 12GB+256GB 官方标配",checked:!1}),new $({id:3,name:"Sony WH-1000XM5",count:1,price:299,cover:"https://img.yzcdn.cn/vant/sony.png",skuName:"黑色 无线蓝牙 官方标配",checked:!1}),new $({id:4,name:"小米手环8",count:3,price:49,cover:"https://img.yzcdn.cn/vant/xiaomi.png",skuName:"曜石黑 标准版 硅胶表带",checked:!1}),new $({id:5,name:"Kindle Paperwhite",count:1,price:120,cover:"https://img.yzcdn.cn/vant/kindle.png",skuName:"黑色 8GB 官方标配",checked:!1})]),M=r(!1);function P(e){L.value.forEach(((t,a,c)=>{c[a].checked=e}))}const W=r(!1);function E(e){A.showConfirm({title:N("温馨提示"),message:N("确定删除该商品吗？"),callback(t){"confirm"===t&&(L.value.splice(e,1),A.showToast({message:N("删除成功")}))}})}function F(){const e=L.value.filter((e=>e.checked));if(J(e))return A.showToast({message:N("请先选择商品")});A.showConfirm({title:N("温馨提示"),message:N("确定删除选中的商品吗？"),callback(e){"confirm"==e&&(L.value=L.value.filter((e=>!e.checked)),M.value&&(M.value=!1),A.showToast({message:N("删除成功")}))}})}const H=o((()=>L.value.filter((e=>e.checked)).reduce(((e,t)=>e+t.price*t.count),0)));function K(){if(H.value<=0)return A.showToast({message:N("请先选择商品")});A.showConfirm({title:N("温馨提示"),message:d("您需支付 {price} 元，请确认支付",new UTSJSONObject({price:H.value})),beforeClose(e,t){var a=t.showLoading,c=t.close;"confirm"==e?(a(),setTimeout((()=>{A.showToast({message:N("支付成功")}),c()}),1e3)):c()}})}return(l=null,s=null)=>{const r=e(i("cl-text"),t),o=e(i("cl-topbar"),v),J=e(i("cl-sticky"),g),$=x,A=e(i("cl-icon"),a),X=e(i("cl-image"),y),q=e(i("cl-input-number"),z),D=e(i("cl-button"),c),I=e(i("cl-list-item"),C),Q=e(i("cl-empty"),V),R=e(i("cl-checkbox"),B),Y=e(i("cl-footer"),G),Z=e(i("cl-page"),n);return p(),u(Z,null,new UTSJSONObject({default:m((()=>[S(J,null,{default:m((()=>[S(o,new UTSJSONObject({fixed:"","safe-area-top":"",title:"".concat(O(d)("购物车 ({num})",new UTSJSONObject({num:L.value.length})))}),{prepend:m((()=>[])),append:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"mr-3"}),onClick:s[0]||(s[0]=(e=null)=>W.value=!W.value)}),{default:m((()=>[b(w(W.value?O(N)("完成"):O(N)("管理")),1)])),_:1})])),_:1},8,["title"])])),_:1}),S($,new UTSJSONObject({class:"p-3"}),{default:m((()=>[S($,new UTSJSONObject({class:f(["p-3 rounded-xl bg-white mb-3",new UTSJSONObject({"dark-colon--important-bg-surface-800":O(_)})])}),{default:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"-important-text-sm"})}),{default:m((()=>[b("🔥 最新降价商品，限时优惠，抓紧抢购！")])),_:1})])),_:1},8,["class"]),(p(!0),j(U,null,T(L.value,((e,t)=>(p(),u(I,new UTSJSONObject({key:e.id,pt:new UTSJSONObject({className:O(k)(["rounded-2xl ",[t==L.value.length-1,"mb-0","mb-3"]]),inner:new UTSJSONObject({className:"-important-p-4"})}),swipeable:""}),new UTSJSONObject({"swipe-right":m((()=>[S(D,new UTSJSONObject({type:"error",pt:new UTSJSONObject({className:"-important-rounded-none h-full w--bracket-start-160rpx-bracket-end-"}),onClick:(e=null)=>E(t)}),{default:m((()=>[b(w(O(N)("删除")),1)])),_:2},1032,["onClick"])])),default:m((()=>[S($,new UTSJSONObject({class:"flex flex-row flex-1"}),{default:m((()=>[S($,new UTSJSONObject({class:"flex flex-col mr-4 pt--bracket-start-55rpx-bracket-end-",onClick:(t=null)=>function(e){e.checked=!e.checked,M.value=L.value.every((e=>e.checked))}(e)}),{default:m((()=>[e.checked?(p(),u(A,new UTSJSONObject({key:0,name:"checkbox-circle-line",color:"primary",size:40}))):(p(),u(A,new UTSJSONObject({key:1,name:"checkbox-blank-circle-line",size:40})))])),_:2},1032,["onClick"]),S(X,new UTSJSONObject({width:150,height:150,src:e.cover}),null,8,["src"]),S($,new UTSJSONObject({class:"flex flex-col ml-3 flex-1"}),{default:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"mb-2 font-bold"})}),{default:m((()=>[b(w(e.name),1)])),_:2},1024),S($,new UTSJSONObject({class:"flex flex-row mb-2"}),{default:m((()=>[S($,new UTSJSONObject({class:f(["bg-surface-100 rounded-md py-1 px-2 flex flex-row items-center",new UTSJSONObject({"dark-colon--important-bg-surface-700":O(_)})])}),{default:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"-important-text-xs"})}),{default:m((()=>[b(w(e.skuName),1)])),_:2},1024),S(A,new UTSJSONObject({name:"arrow-down-s-line"}))])),_:2},1032,["class"])])),_:2},1024),S($,new UTSJSONObject({class:"flex flex-row items-center mb-2"}),{default:m((()=>[S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"-important-text--bracket-start-22rpx-bracket-end- -important-text-red-500 mr--bracket-start-1rpx-bracket-end-"})}),{default:m((()=>[b("¥")])),_:1}),S(r,new UTSJSONObject({pt:new UTSJSONObject({className:"-important-text-red-500 -important-text--bracket-start-32rpx-bracket-end- mr-auto"})}),{default:m((()=>[b(w(e.price),1)])),_:2},1024),W.value?(p(),u($,new UTSJSONObject({key:0,class:"p--bracket-start-8rpx-bracket-end- bg-red-500 rounded-lg",onClick:(e=null)=>E(t)}),new UTSJSONObject({default:m((()=>[S(A,new UTSJSONObject({name:"delete-bin-line",color:"white",size:24}))])),_:2}),1032,["onClick"])):(p(),u($,new UTSJSONObject({key:1,class:"flex"}),new UTSJSONObject({default:m((()=>[S(q,new UTSJSONObject({modelValue:e.count,"onUpdate:modelValue":(t=null)=>e.count=t,size:40,min:1,pt:new UTSJSONObject({op:new UTSJSONObject({plus:new UTSJSONObject({className:"-important-rounded-full"}),minus:new UTSJSONObject({className:"-important-rounded-full"}),icon:new UTSJSONObject({size:28})}),value:new UTSJSONObject({className:"-important-w--bracket-start-60rpx-bracket-end- rounded-full -important-px-0",input:new UTSJSONObject({className:"-important-text--bracket-start-24rpx-bracket-end-"})})})}),null,8,["modelValue","onUpdate:modelValue"])])),_:2}),1024))])),_:2},1024),S(r,new UTSJSONObject({size:22,color:"error"}),{default:m((()=>[b("比加入时降¥100")])),_:1}),S(r,new UTSJSONObject({size:22}),{default:m((()=>[b("满1件可换购0.5元商品")])),_:1})])),_:2},1024)])),_:2},1024)])),_:2}),1032,["pt"])))),128)),0==L.value.length?(p(),u(Q,new UTSJSONObject({key:0}))):h("",!0)])),_:1}),S(Y,null,{default:m((()=>[S($,new UTSJSONObject({class:"flex flex-row items-center h--bracket-start-70rpx-bracket-end-"}),{default:m((()=>[S(R,new UTSJSONObject({"active-icon":"checkbox-circle-line","inactive-icon":"checkbox-blank-circle-line",pt:new UTSJSONObject({className:"mr-auto"}),size:28,modelValue:M.value,"onUpdate:modelValue":s[1]||(s[1]=(e=null)=>M.value=e),onChange:P}),{default:m((()=>[b(w(O(N)("全选")),1)])),_:1},8,["modelValue"]),W.value?(p(),u(D,new UTSJSONObject({key:0,type:"error",pt:new UTSJSONObject({className:"-important-px-5"}),onClick:F}),new UTSJSONObject({default:m((()=>[b(w(O(N)("删除")),1)])),_:1}))):(p(),j(U,new UTSJSONObject({key:1}),[S($,new UTSJSONObject({class:"flex flex-col mr-3 items-end pt-1"}),{default:m((()=>[S(r,new UTSJSONObject({color:"info",pt:new UTSJSONObject({className:"-important-text-xs"})}),{default:m((()=>[b(w(O(N)("合计")),1)])),_:1}),S(r,new UTSJSONObject({color:"error",value:H.value,type:"amount"}),null,8,["value"])])),_:1}),S(D,new UTSJSONObject({type:"error",pt:new UTSJSONObject({className:"-important-px-8"}),onClick:K}),{default:m((()=>[b(w(O(N)("去结算")),1)])),_:1})],64))])),_:1})])),_:1})])),_:1}))}}});export{A as default};
