import{f as e,c as t,r as l,_ as a,b as s}from"./cl-page.uvue_vue_type_script_setup_true_lang.DmsYZiBf.js";import{d as c,Z as n,H as o,r as i,h as u,V as p,U as r,o as _,c as d,w as f,n as S,q as b,a0 as O,a1 as h,a3 as w,_ as T,e as N,I as U,i as j,a as y,f as m,l as v,m as g,F as x}from"./index-B37m_LRT.js";import{_ as J,a as k}from"./cl-list.CN-5ahKn.js";import"./item.uvue_vue_type_style_index_0_scoped_b08ace3b_lang.qdJaAIjr.js";import"./cl-collapse.Bh7IRw4G.js";class $ extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{height:{type:Number,optional:!1},width:{type:Number,optional:!1},left:{type:Number,optional:!1},top:{type:Number,optional:!1}}}}}constructor(e,t=$.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,l),this.height=this.__props__.height,this.width=this.__props__.width,this.left=this.__props__.left,this.top=this.__props__.top,delete this.__props__}}const I=t(c(Object.assign({name:"cl-sticky"},{__name:"cl-sticky",props:{offsetTop:{type:Number,default:0},zIndex:{type:Number,default:100},scrollTop:{type:Number,default:0}},setup(t,l){var a=l.expose;const s=t,c=n().proxy,y=e().onScroll,m=o(new $({height:0,width:0,left:0,top:0})),v=i(0),g=u((()=>0!=m.height&&v.value>=m.top)),x=u((()=>{if(g.value){let e=0;return b.isCustomNavbarPage()||(e=44),e+s.offsetTop}return 0}));function J(){O((()=>{h().in(c).select(".cl-sticky").boundingClientRect().exec((e=>{var t,l,a,c;if(w(e))return null;const n=e[0];m.height=null!==(t=n.height)&&void 0!==t?t:0,m.width=null!==(l=n.width)&&void 0!==l?l:0,m.left=null!==(a=n.left)&&void 0!==a?a:0,m.top=(null!==(c=n.top)&&void 0!==c?c:0)-s.offsetTop+v.value}))}))}return p((()=>{J(),y((e=>{v.value=e})),r(u((()=>s.scrollTop)),(e=>{v.value=e}),{immediate:!0})})),a(new UTSJSONObject({getRect:J})),(e=null,l=null)=>{const a=T;return _(),d(a,new UTSJSONObject({class:"cl-sticky-wrapper",style:S({height:0==m.height?"auto":m.height+"px",zIndex:t.zIndex})}),new UTSJSONObject({default:f((()=>[N(a,new UTSJSONObject({class:j(["cl-sticky",[new UTSJSONObject({}),new UTSJSONObject({"is-active":g.value})]]),style:S({width:g.value?m.width+"px":"100%",left:g.value?m.left+"px":0,top:x.value+"px"})}),{default:f((()=>[U(e.$slots,"default",new UTSJSONObject({}),void 0,!0),U(e.$slots,"content",new UTSJSONObject({isSticky:g.value}),void 0,!0)])),_:3},8,["class","style"])])),_:3}),8,["style"])}}})),[["__scopeId","data-v-a6d36b3f"]]),H=c({__name:"sticky",setup:e=>(e=null,t=null)=>{const c=l(y("cl-text"),a),n=T,o=l(y("cl-sticky"),I),i=l(y("cl-list-item"),J),u=l(y("cl-list"),k),p=l(y("cl-page"),s);return _(),d(p,new UTSJSONObject({"back-top":""}),new UTSJSONObject({default:f((()=>[N(o,null,{default:f((()=>[N(n,new UTSJSONObject({class:"bg-primary-500 p-3 h--bracket-start-40px-bracket-end- flex flex-row items-center"}),{default:f((()=>[N(c,new UTSJSONObject({color:"white"}),{default:f((()=>[m("Header - 1")])),_:1})])),_:1})])),_:1}),N(n,new UTSJSONObject({class:"p-3"}),{default:f((()=>[N(u,null,{default:f((()=>[(_(),v(x,null,g(50,(e=>N(i,new UTSJSONObject({label:"".concat(e),key:e}),null,8,["label"]))),64))])),_:1})])),_:1}),N(o,new UTSJSONObject({"offset-top":40}),{default:f((()=>[N(n,new UTSJSONObject({class:"bg-red-500 p-3 h--bracket-start-40px-bracket-end- flex flex-row items-center"}),{default:f((()=>[N(c,new UTSJSONObject({color:"white"}),{default:f((()=>[m("Header - 2")])),_:1})])),_:1})])),_:1}),N(n,new UTSJSONObject({class:"p-3"}),{default:f((()=>[N(u,null,{default:f((()=>[(_(),v(x,null,g(50,(e=>N(i,new UTSJSONObject({label:"".concat(e),key:e}),null,8,["label"]))),64))])),_:1})])),_:1}),N(o,new UTSJSONObject({"offset-top":80}),{default:f((()=>[N(n,new UTSJSONObject({class:"bg-purple-500 p-3 h--bracket-start-40px-bracket-end- flex flex-row items-center"}),{default:f((()=>[N(c,new UTSJSONObject({color:"white"}),{default:f((()=>[m("Header - 3")])),_:1})])),_:1})])),_:1}),N(n,new UTSJSONObject({class:"p-3"}),{default:f((()=>[N(u,null,{default:f((()=>[(_(),v(x,null,g(50,(e=>N(i,new UTSJSONObject({label:"".concat(e),key:e}),null,8,["label"]))),64))])),_:1})])),_:1})])),_:1}))}});export{H as default};
