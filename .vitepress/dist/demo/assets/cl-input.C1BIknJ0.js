import{g as e,r as a,a as l,c as t}from"./cl-page.uvue_vue_type_script_setup_true_lang.DmsYZiBf.js";import{d as n,t as o,h as s,r as u,U as c,a as i,o as r,c as p,w as d,i as f,u as m,X as S,a0 as v,_ as y,I as _,e as b,z as O,v as h,p as N,n as g,a9 as T}from"./index-B37m_LRT.js";import{u as U,a as j}from"./form.eD1S-Fqe.js";class w extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0},prefixIcon:{type:"Unknown",optional:!0},suffixIcon:{type:"Unknown",optional:!0}}}}}constructor(e,a=w.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,a,l),this.className=this.__props__.className,this.inner=this.__props__.inner,this.prefixIcon=this.__props__.prefixIcon,this.suffixIcon=this.__props__.suffixIcon,delete this.__props__}}const x=t(n(Object.assign({name:"cl-input"},{__name:"cl-input",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},type:{type:String,default:"text"},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},password:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},placeholder:{type:String,default:()=>o("请输入")},placeholderClass:{type:String,default:""},border:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},cursorSpacing:{type:Number,default:5},confirmHold:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},adjustPosition:{type:Boolean,default:!0},maxlength:{type:Number,default:140},holdKeyboard:{type:Boolean,default:!1}},emits:["update:modelValue","input","change","focus","blur","confirm","clear","keyboardheightchange"],setup(t,n){var o=n.expose,w=n.emit;const x=t,J=w,k=U().disabled,I=j().isError,z=s((()=>k.value||x.disabled)),B=s((()=>S(x.pt))),C=e((()=>{var e,a;return null!==(a=null===(e=B.value.inner)||void 0===e?null:e.className)&&void 0!==a?a:""})),$=C.ptClassName,V=C.getSize,K=s((()=>{const e=new UTSJSONObject({}),a=V(null);return null!=a&&(e.fontSize=a),e})),P=u(""),F=u(x.autofocus),H=s((()=>F.value&&x.clearable&&""!=P.value)),M=u(x.password);function E(){M.value=!M.value}function X(){F.value=!0,J("focus")}function q(){J("blur"),setTimeout((()=>{F.value=!1}),0)}function A(e){const a=e.detail.value;P.value=a,J("update:modelValue",a),J("input",a),a!=P.value&&J("change",a)}function D(e){J("confirm",e)}function G(e){J("keyboardheightchange",e)}function L(){if(z.value)return null;F.value=!0}function Q(){setTimeout((()=>{F.value=!1,v((()=>{F.value=!0}))}),0)}function R(){P.value="",J("update:modelValue",""),J("change",""),J("clear"),Q()}return c(s((()=>x.modelValue)),(e=>{P.value=e}),{immediate:!0}),o(new UTSJSONObject({isFocus:F,focus:Q,clear:R})),(e=null,n=null)=>{const o=a(i("cl-icon"),l),s=y,u=T;return r(),p(s,new UTSJSONObject({class:f(["cl-input",[new UTSJSONObject({}),B.value.className,new UTSJSONObject({"is-dark":m(N),"cl-input--border":t.border,"cl-input--focus":F.value,"cl-input--disabled":z.value,"cl-input--error":m(I)})]]),onClick:L}),{default:d((()=>{var a;return[_(e.$slots,"prepend",new UTSJSONObject({}),void 0,!0),t.prefixIcon?(r(),p(s,new UTSJSONObject({key:0,class:"cl-input__icon -important-pl-0 pr--bracket-start-12rpx-bracket-end-"}),{default:d((()=>{var e,a,l;return[b(o,{name:t.prefixIcon,size:null!==(a=null===(e=B.value.prefixIcon)||void 0===e?null:e.size)&&void 0!==a?a:32,pt:{className:m(O)([null===(l=B.value.prefixIcon)||void 0===l?null:l.className])}},null,8,["name","size","pt"])]})),_:1})):h("",!0),b(u,{class:f(["cl-input__inner",[new UTSJSONObject({}),new UTSJSONObject({"is-disabled":z.value,"is-dark":m(N)}),m($)]]),style:g(K.value),value:P.value,disabled:null!==(a=t.readonly)&&void 0!==a?a:z.value,type:t.type,password:M.value,focus:F.value,placeholder:t.placeholder,"placeholder-class":"text-surface-400 ".concat(t.placeholderClass),maxlength:t.maxlength,"cursor-spacing":t.cursorSpacing,"confirm-type":t.confirmType,"confirm-hold":t.confirmHold,"adjust-position":t.adjustPosition,"hold-keyboard":t.holdKeyboard,onInput:A,onFocus:X,onBlur:q,onConfirm:D,onKeyboardheightchange:G},null,8,["class","style","value","disabled","type","password","focus","placeholder","placeholder-class","maxlength","cursor-spacing","confirm-type","confirm-hold","adjust-position","hold-keyboard"]),t.suffixIcon?(r(),p(s,new UTSJSONObject({key:1,class:"cl-input__icon"}),{default:d((()=>{var e,a,l;return[b(o,{name:t.suffixIcon,size:null!==(a=null===(e=B.value.suffixIcon)||void 0===e?null:e.size)&&void 0!==a?a:32,pt:{className:m(O)([null===(l=B.value.prefixIcon)||void 0===l?null:l.className])}},null,8,["name","size","pt"])]})),_:1})):h("",!0),H.value?(r(),p(s,new UTSJSONObject({key:2,class:"cl-input__icon",onClick:R}),new UTSJSONObject({default:d((()=>[b(o,new UTSJSONObject({name:"close-circle-fill",size:32,pt:new UTSJSONObject({className:"-important-text-surface-400"})}))])),_:1}))):h("",!0),t.password?(r(),p(s,new UTSJSONObject({key:3,class:"cl-input__icon",onClick:E}),new UTSJSONObject({default:d((()=>[b(o,new UTSJSONObject({name:M.value?"eye-line":"eye-off-line",size:32,pt:new UTSJSONObject({className:"-important-text-surface-300"})}),null,8,["name"])])),_:1}))):h("",!0),_(e.$slots,"append",new UTSJSONObject({}),void 0,!0)]})),_:3},8,["class"])}}})),[["__scopeId","data-v-0a1ed714"]]);export{x as _};
