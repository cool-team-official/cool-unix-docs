import{r as e,_ as t}from"./cl-page.uvue_vue_type_script_setup_true_lang.Dujw6vu5.js";import{d as a,h as s,r,X as n,a4 as o,a as l,o as u,c,w as i,u as p,Y as m,f as _,g as d,A as S}from"./index-CNagV5B9.js";class v extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},color:{type:String,optional:!0}}}}}constructor(e,t=v.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,a),this.className=this.__props__.className,this.color=this.__props__.color,delete this.__props__}}const f=a({__name:"cl-rolling-number",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},value:{type:Number,default:0},duration:{type:Number,default:1e3},decimals:{type:Number,default:0}},setup(a,v){var f=v.expose;const N=a,T=s((()=>m(N.pt))),b=r(0),g=r("0");let O=0,U=0,h=0,y=0;function j(e){return 0==N.decimals?Math.round(e).toString():e.toFixed(N.decimals)}function w(e){0==y&&(y=e);const t=e-y,a=Math.min(t/N.duration,1),s=(r=a,1-Math.pow(1-r,3));var r;const n=U+(h-U)*s;b.value=n,g.value=j(n),a<1?O=requestAnimationFrame((e=>w(e))):(b.value=h,g.value=j(h),O=0)}function x(){0!=O&&(cancelAnimationFrame(O),O=0)}function J(e,t){x(),U=e,h=t,y=0,O=requestAnimationFrame(w)}function M(){J(0,N.value)}return n(s((()=>N.value)),((e,t)=>{e!=t&&J(b.value,e)}),{immediate:!1}),o((()=>{M()})),f(new UTSJSONObject({start:M,stop:x})),(a=null,s=null)=>{const r=e(l("cl-text"),t);return u(),c(r,new UTSJSONObject({color:T.value.color,pt:new UTSJSONObject({className:p(S)(["cl-rolling-number",T.value.className])})}),new UTSJSONObject({default:i((()=>[_(d(g.value),1)])),_:1}),8,["color","pt"])}}});export{f as _};
