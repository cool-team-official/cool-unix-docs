import{_ as e}from"./cl-upload.B6PqfPuv.js";import{d as l,c as a,T as t,U as r,V as s,r as n,o as u,a as o,w as i,n as c,W as d,_ as p,b as m,X as S,f as b,g as v,q as f,H as _,u as O,x as g,Y as w,Z as h,z as U,a0 as T,t as N,$ as j,a1 as y,a2 as J,a3 as x,a4 as V,P as k,j as q,k as A,F as P}from"./index-BAeoAK27.js";import{r as M,a as $,c as B,f as E,d as F,b as W,u as R}from"./cl-page.uvue_vue_type_script_setup_true_lang.CFvuOJz5.js";import{u as C}from"./form.C9wDcIi8.js";import{_ as G}from"./cl-input.6NLWXijr.js";import{_ as z}from"./cl-slider.B3DSzLOQ.js";import{_ as I}from"./cl-checkbox.C2DtXNwP.js";import{_ as D}from"./cl-select.VGRoi5Vi.js";import{p as H,_ as X}from"./pca.DOH7P8Z1.js";import{_ as Y}from"./cl-select-date.a9NdSV4e.js";import{_ as Z}from"./cl-textarea.DzEsd5FB.js";import{_ as K}from"./cl-switch.BYOo9-f9.js";import{_ as L}from"./cl-footer.D0YMR7rn.js";import{D as Q}from"./item.Dygimnkt.js";import{u as ee}from"./cl-list-view.BFK2af6A.js";import{d as le}from"./day.C6z4Qky5.js";import"./cl-progress.BzoRAcTv.js";import"./cl-rolling-number.jMLpk_Wm.js";import"./index.DSGNj84t.js";import"./cl-select-trigger.B0cm1296.js";import"./cl-picker-view.B97pA0Rq.js";import"./cl-tag.GMlQCxxW.js";import"./index.U6ITPUe7.js";import"./item.uvue_vue_type_style_index_0_scoped_f51a3be8_lang.V5eGa8dR.js";UTS.UTSType;const ae=B(l(Object.assign({name:"cl-form-item"},{__name:"cl-form-item",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},label:{type:String,default:""},prop:{type:String,default:""},labelPosition:{type:String,default:null},labelWidth:{type:String,default:null},showAsterisk:{type:Boolean,default:null},showMessage:{type:Boolean,default:null},required:{type:Boolean,default:!1}},setup(e,l){var h=l.expose;const U=e,T=C(),N=T.formRef,j=T.getError,y=T.getValue,J=T.validateField,x=T.addField,V=T.removeField,k=a((()=>d(U.pt))),q=a((()=>j(U.prop))),A=a((()=>""!=q.value)),P=a((()=>{var e,l,a;return null!==(a=null!==(e=U.labelPosition)&&void 0!==e?e:null===(l=N.value)||void 0===l?null:l.labelPosition)&&void 0!==a?a:"left"})),B=a((()=>{var e,l,a;return null!==(a=null!==(e=U.labelWidth)&&void 0!==e?e:null===(l=N.value)||void 0===l?null:l.labelWidth)&&void 0!==a?a:"120rpx"})),E=a((()=>{var e,l,a;return!!U.required&&(null===(a=null!==(e=U.showAsterisk)&&void 0!==e?e:null===(l=N.value)||void 0===l?null:l.showAsterisk)||void 0===a||a)})),F=a((()=>{var e,l,a;return!!U.required&&(null===(a=null!==(e=U.showMessage)&&void 0!==e?e:null===(l=N.value)||void 0===l?null:l.showMessage)||void 0===a||a)}));return t(a((()=>U.required)),(e=>{e?x(U.prop):V(U.prop)}),{immediate:!0}),r((()=>{t(a((()=>{const e=y(U.prop);return null==e?"":e})),((e=null,l=null)=>{U.required&&(w(e,l)||J(U.prop))}),{deep:!0})})),s((()=>{V(U.prop)})),h(new UTSJSONObject({prop:U.prop})),(l=null,a=null)=>{const t=M(n("cl-text"),$),r=p;return u(),o(r,new UTSJSONObject({class:c(["cl-form-item",[new UTSJSONObject({}),new UTSJSONObject({"cl-form-item--error":A.value}),k.value.className]])}),{default:i((()=>{var a;return[m(r,{class:c(["cl-form-item__inner",[new UTSJSONObject({}),"is-".concat(P.value),null===(a=k.value.inner)||void 0===a?null:a.className]])},{default:i((()=>{var a,s;return[""!=e.label?(u(),o(r,{key:0,class:c(["cl-form-item__label",[new UTSJSONObject({}),"is-".concat(P.value),null===(a=k.value.label)||void 0===a?null:a.className]]),style:S({width:"top"!=P.value?B.value:"auto"})},new UTSJSONObject({default:i((()=>[m(t,null,{default:i((()=>[b(v(e.label),1)])),_:1}),E.value?(u(),o(t,new UTSJSONObject({key:0,color:"error",pt:new UTSJSONObject({className:"ml-1"})}),new UTSJSONObject({default:i((()=>[b(" * ")])),_:1}))):f("",!0)])),_:1}),8,["class","style"])):f("",!0),m(r,{class:c(["cl-form-item__content",[new UTSJSONObject({}),null===(s=k.value.content)||void 0===s?null:s.className]])},{default:i((()=>[_(l.$slots,"default",new UTSJSONObject({}),void 0,!0)])),_:3},8,["class"])]})),_:3},8,["class"]),A.value&&F.value?(u(),o(r,new UTSJSONObject({key:0,class:"cl-form-item__error"}),{default:i((()=>[_(l.$slots,"error",new UTSJSONObject({error:q.value}),(()=>{var e;return[m(t,{color:"error",pt:{className:O(g)(["mt-2 -important-text-sm",null===(e=k.value.error)||void 0===e?null:e.className])}},{default:i((()=>[b(v(q.value),1)])),_:1},8,["pt"])]}),!0)])),_:3})):f("",!0)]})),_:3},8,["class"])}}})),[["__scopeId","data-v-2a7fd2d2"]]);class te extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0}}}}}constructor(e,l=te.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,a),this.className=this.__props__.className,delete this.__props__}}const re=B(l(Object.assign({name:"cl-form"},{__name:"cl-form",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:Object,default:()=>new UTSJSONObject({})},rules:{type:Object,default:()=>new Map},labelPosition:{type:String,default:"top"},labelWidth:{type:String,default:"140rpx"},showAsterisk:{type:Boolean,default:!0},showMessage:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},scrollToError:{type:Boolean,default:!0}},setup(e,l){var r=l.expose;const s=e,n=h().proxy,m=E(),S=a((()=>d(s.pt))),b=U(new UTSJSONObject({})),v=U(new Map),f=U(new Set([])),O=a((()=>s.labelPosition)),g=a((()=>s.labelWidth)),w=a((()=>s.showAsterisk)),q=a((()=>s.showMessage)),A=a((()=>s.disabled)),P=U(!1);function M(e,l){if(P.value)return null;""!=e&&v.value.set(e,l)}function $(e){""!=e&&v.value.delete(e)}function B(){v.value.clear()}function F(e){return""!=e?b.value[e]:null}function W(e){var l;return null!==(l=UTS.mapGet(s.rules,e))&&void 0!==l?l:[]}function R(e=null,l){var a,t,r,s,n,u,o;if(1==l.required&&(null==e||""==e&&T(e)||Array.isArray(e)&&0==e.length))return null!==(a=l.message)&&void 0!==a?a:N("此字段为必填项");if((null==e||""==e&&T(e))&&1!=l.required)return null;if(null!=l.min)if("number"==typeof e){if(e<l.min)return null!==(t=l.message)&&void 0!==t?t:j("最小值为{min}",new UTSJSONObject({min:l.min}))}else{if((Array.isArray(e)?e.length:"".concat(e).length)<l.min)return null!==(r=l.message)&&void 0!==r?r:j("最少需要{min}个字符",new UTSJSONObject({min:l.min}))}if(null!=l.max)if("number"==typeof e){if(e>l.max)return null!==(s=l.message)&&void 0!==s?s:j("最大值为{max}",new UTSJSONObject({max:l.max}))}else{if((Array.isArray(e)?e.length:"".concat(e).length)>l.max)return null!==(n=l.message)&&void 0!==n?n:j("最多允许{max}个字符",new UTSJSONObject({max:l.max}))}if(null!=l.pattern&&!l.pattern.test("".concat(e)))return null!==(u=l.message)&&void 0!==u?u:N("格式不正确");if(null!=l.validator){const a=l.validator(e);if(1!=a)return"string"==typeof a?a:null!==(o=l.message)&&void 0!==o?o:N("验证失败")}return null}function C(e){let l=null;if(""!=e){const a=F(e),t=W(e);J(t)||UTS.arrayFind(t,(e=>{const t=R(a,e);return null!=t&&(l=t,!0)})),$(e)}return null!=l&&M(e,l),l}return t(a((()=>x(s.modelValue))),(e=>{b.value=e}),{immediate:!0,deep:!0}),r(new UTSJSONObject({labelPosition:O,labelWidth:g,showAsterisk:w,showMessage:q,disabled:A,data:b,errors:v,fields:f,addField:function(e){""!=e&&f.value.add(e)},removeField:function(e){""!=e&&(f.value.delete(e),$(e))},getValue:F,setError:M,getError:function(e){var l;return""!=e&&null!==(l=v.value.get(e))&&void 0!==l?l:""},removeError:$,clearErrors:B,getRule:W,validateRule:R,clearValidate:function(){P.value=!0,y((()=>{B(),P.value=!1}))},validateField:C,validate:function(e){const l=[];f.value.forEach((e=>{const a=C(e);null!=a&&l.push({field:e,message:a})})),l.length>0&&function(e){if(0==s.scrollToError)return null;y((()=>{let e=n;V().in(e).select(".cl-form-item--error").boundingClientRect(((e=null)=>{var l;k(e)||m.scrollTo((null!==(l=e.top)&&void 0!==l?l:0)+m.getScrollTop())})).exec()}))}(l[0].field),e(0==l.length,l)}})),(e=null,l=null)=>{const a=p;return u(),o(a,new UTSJSONObject({class:c(["cl-form",[new UTSJSONObject({}),"cl-form--label-".concat(O.value),new UTSJSONObject({"cl-form--disabled":A.value}),S.value.className]])}),new UTSJSONObject({default:i((()=>[_(e.$slots,"default",new UTSJSONObject({}),void 0,!0)])),_:3}),8,["class"])}}})),[["__scopeId","data-v-f8b3174d"]]);class se extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{avatarUrl:{type:String,optional:!1},nickName:{type:String,optional:!1},email:{type:String,optional:!1},height:{type:Number,optional:!1},weight:{type:Number,optional:!1},gender:{type:Number,optional:!1},description:{type:String,optional:!1},pca:{type:UTS.UTSType.withGenerics(Array,[String]),optional:!1},tags:{type:UTS.UTSType.withGenerics(Array,[Number]),optional:!1},birthday:{type:String,optional:!1},isPublic:{type:Boolean,optional:!1}}}}}constructor(e,l=se.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,a),this.avatarUrl=this.__props__.avatarUrl,this.nickName=this.__props__.nickName,this.email=this.__props__.email,this.height=this.__props__.height,this.weight=this.__props__.weight,this.gender=this.__props__.gender,this.description=this.__props__.description,this.pca=this.__props__.pca,this.tags=this.__props__.tags,this.birthday=this.__props__.birthday,this.isPublic=this.__props__.isPublic,delete this.__props__}}const ne=l({__name:"form",setup(l){const a=R(),t=C(),r=t.formRef,s=t.validate,c=t.clearValidate,d=[{label:N("未知"),value:0},{label:N("男"),value:1},{label:N("女"),value:2}],S=[{label:N("篮球"),value:1},{label:N("足球"),value:2},{label:N("羽毛球"),value:3},{label:N("乒乓球"),value:4},{label:N("游泳"),value:5}],f=ee(H),_=U(new se({avatarUrl:"",nickName:"神仙都没用",email:"",height:180,weight:70,gender:0,description:"",pca:[],tags:[1,2],birthday:"",isPublic:!1})),g=new Map([["nickName",[{required:!0,message:N("用户名不能为空")},{min:3,max:20,message:N("用户名长度在3-20个字符之间")}]],["email",[{required:!0,message:N("邮箱不能为空")},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:N("邮箱格式不正确")}]],["height",[{required:!0,message:N("身高不能为空")},{min:160,max:190,message:N("身高在160-190cm之间")}]],["weight",[{required:!0,message:N("体重不能为空")},{min:40,max:100,message:N("体重在40-100kg之间")}]],["tags",[{required:!0,message:N("标签不能为空")},{min:1,max:2,message:N("标签最多选择2个")}]],["gender",[{required:!0,message:N("性别不能为空")}]],["pca",[{required:!0,message:N("所在地区不能为空")}]],["birthday",[{required:!0,message:N("出生年月不能为空")},{validator:(e=null)=>!le(e).isAfter(le("2010-01-01"))||N("出生年月不大于2010-01-01")}]]]),w=U(!1);function h(){_.value.avatarUrl="",_.value.nickName="",_.value.email="",_.value.height=180,_.value.weight=70,_.value.gender=0,_.value.description="",_.value.pca=[],_.value.tags=[],_.value.birthday="",_.value.isPublic=!1,c()}function T(){s(((e,l)=>{e?(w.value=!0,setTimeout((()=>{a.showToast({message:N("提交成功"),icon:"check-line"}),w.value=!1,h()}),2e3)):a.showToast({message:l[0].message})}))}return(l=null,a=null)=>{const t=M(n("cl-upload"),e),s=M(n("cl-form-item"),ae),c=M(n("cl-input"),G),U=M(n("cl-text"),$),j=M(n("cl-slider"),z),y=M(n("cl-checkbox"),I),J=p,x=M(n("cl-select"),D),V=M(n("cl-cascader"),X),k=M(n("cl-select-date"),Y),B=M(n("cl-textarea"),Z),E=M(n("cl-switch"),K),R=M(n("cl-form"),re),C=M(n("cl-button"),F),H=M(n("cl-footer"),L),ee=M(n("cl-page"),W);return u(),o(ee,null,new UTSJSONObject({default:i((()=>[m(J,new UTSJSONObject({class:"p-3"}),{default:i((()=>[m(O(Q),null,{default:i((()=>[m(R,new UTSJSONObject({pt:new UTSJSONObject({className:"p-2 pb-0"}),modelValue:_.value,"onUpdate:modelValue":a[11]||(a[11]=(e=null)=>_.value=e),ref_key:"formRef",ref:r,rules:O(g),disabled:w.value,"label-position":"top"}),{default:i((()=>[m(s,new UTSJSONObject({prop:"avatarUrl"}),{default:i((()=>[m(t,new UTSJSONObject({modelValue:_.value.avatarUrl,"onUpdate:modelValue":a[0]||(a[0]=(e=null)=>_.value.avatarUrl=e),test:""}),null,8,["modelValue"])])),_:1}),m(s,new UTSJSONObject({label:O(N)("用户名"),prop:"nickName",required:""}),{default:i((()=>[m(c,new UTSJSONObject({modelValue:_.value.nickName,"onUpdate:modelValue":a[1]||(a[1]=(e=null)=>_.value.nickName=e),placeholder:O(N)("请输入用户名"),clearable:""}),null,8,["modelValue","placeholder"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(N)("邮箱"),prop:"email",required:""}),{default:i((()=>[m(c,new UTSJSONObject({modelValue:_.value.email,"onUpdate:modelValue":a[2]||(a[2]=(e=null)=>_.value.email=e),placeholder:O(N)("请输入邮箱地址")}),null,8,["modelValue","placeholder"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(N)("身高"),prop:"height",required:""}),{default:i((()=>[m(j,new UTSJSONObject({modelValue:_.value.height,"onUpdate:modelValue":a[3]||(a[3]=(e=null)=>_.value.height=e),max:220,"show-value":""}),{value:i((e=>{var l=e.value;return[m(U,new UTSJSONObject({pt:new UTSJSONObject({className:"text-center w--bracket-start-120rpx-bracket-end-"})}),{default:i((()=>[b(v(l)+" cm",1)])),_:2},1024)]})),_:1},8,["modelValue"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(N)("体重"),prop:"weight",required:""}),{default:i((()=>[m(j,new UTSJSONObject({modelValue:_.value.weight,"onUpdate:modelValue":a[4]||(a[4]=(e=null)=>_.value.weight=e),max:150,"show-value":""}),{value:i((e=>{var l=e.value;return[m(U,new UTSJSONObject({pt:new UTSJSONObject({className:"text-center w--bracket-start-120rpx-bracket-end-"})}),{default:i((()=>[b(v(l)+" kg",1)])),_:2},1024)]})),_:1},8,["modelValue"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(N)("标签"),prop:"tags",required:""}),{default:i((()=>[m(J,new UTSJSONObject({class:"flex flex-row flex-wrap"}),{default:i((()=>[(u(),q(P,null,A(S,((e,l)=>m(y,new UTSJSONObject({modelValue:_.value.tags,"onUpdate:modelValue":a[5]||(a[5]=(e=null)=>_.value.tags=e),key:l,value:l,pt:new UTSJSONObject({className:"mr-5 mt-2"})}),{default:i((()=>[b(v(e.label),1)])),_:2},1032,["modelValue","value"]))),64))])),_:1})])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(N)("性别"),prop:"gender",required:""}),{default:i((()=>[m(x,new UTSJSONObject({modelValue:_.value.gender,"onUpdate:modelValue":a[6]||(a[6]=(e=null)=>_.value.gender=e),options:d}),null,8,["modelValue"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(N)("所在地区"),prop:"pca",required:""}),{default:i((()=>[m(V,new UTSJSONObject({modelValue:_.value.pca,"onUpdate:modelValue":a[7]||(a[7]=(e=null)=>_.value.pca=e),options:O(f)}),null,8,["modelValue","options"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(N)("出生年月"),prop:"birthday",required:""}),{default:i((()=>[m(k,new UTSJSONObject({modelValue:_.value.birthday,"onUpdate:modelValue":a[8]||(a[8]=(e=null)=>_.value.birthday=e),type:"date"}),null,8,["modelValue"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(N)("个人简介"),prop:"description"}),{default:i((()=>[m(B,new UTSJSONObject({modelValue:_.value.description,"onUpdate:modelValue":a[9]||(a[9]=(e=null)=>_.value.description=e),placeholder:O(N)("请输入个人简介"),maxlength:200}),null,8,["modelValue","placeholder"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(N)("公开状态")}),{default:i((()=>[m(E,new UTSJSONObject({modelValue:_.value.isPublic,"onUpdate:modelValue":a[10]||(a[10]=(e=null)=>_.value.isPublic=e)}),null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["modelValue","rules","disabled"])])),_:1}),m(O(Q),null,{default:i((()=>[m(U,new UTSJSONObject({"pre-wrap":"",pt:new UTSJSONObject({className:"-important-text-sm p-2"})}),{default:i((()=>[b(v(UTS.JSON.stringify(_.value,null,4)),1)])),_:1})])),_:1})])),_:1}),m(H,null,{default:i((()=>[m(J,new UTSJSONObject({class:"flex flex-row"}),{default:i((()=>[m(C,new UTSJSONObject({type:"info",pt:new UTSJSONObject({className:"flex-1"}),onClick:h}),{default:i((()=>[b(v(O(N)("重置")),1)])),_:1}),m(C,new UTSJSONObject({type:"primary",loading:w.value,pt:new UTSJSONObject({className:"flex-1"}),onClick:T}),{default:i((()=>[b(v(O(N)("提交")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1}))}}});export{ne as default};
