import{r as e,a as t,c as a}from"./cl-page.uvue_vue_type_script_setup_true_lang.Dheht3lz.js";import{d as s,c as r,z as n,T as o,U as l,r as u,o as c,a as i,w as p,u as _,W as m,f as d,g as S,x as v}from"./index-BoLJSUaB.js";class f extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},color:{type:String,optional:!0}}}}}constructor(e,t=f.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,a),this.className=this.__props__.className,this.color=this.__props__.color,delete this.__props__}}const T=a(s({__name:"cl-rolling-number",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},value:{type:Number,default:0},duration:{type:Number,default:1e3},decimals:{type:Number,default:0}},setup(a,s){var f=s.expose;const T=a,N=r((()=>m(T.pt))),U=n(0),b=n("0");let g=0,O=0,h=0,y=0;function j(e){return 0==T.decimals?Math.round(e).toString():e.toFixed(T.decimals)}function w(e){0==y&&(y=e);const t=e-y,a=Math.min(t/T.duration,1),s=(r=a,1-Math.pow(1-r,3));var r;const n=O+(h-O)*s;U.value=n,b.value=j(n),a<1?g=requestAnimationFrame((e=>w(e))):(U.value=h,b.value=j(h),g=0)}function x(){0!=g&&(cancelAnimationFrame(g),g=0)}function J(e,t){x(),O=e,h=t,y=0,g=requestAnimationFrame(w)}function M(){J(0,T.value)}return o(r((()=>T.value)),((e,t)=>{e!=t&&J(U.value,e)}),{immediate:!1}),l((()=>{M()})),f(new UTSJSONObject({start:M,stop:x})),(a=null,s=null)=>{const r=e(u("cl-text"),t);return c(),i(r,new UTSJSONObject({color:N.value.color,pt:new UTSJSONObject({className:_(v)(["cl-rolling-number",N.value.className])})}),new UTSJSONObject({default:p((()=>[d(S(b.value),1)])),_:1}),8,["color","pt"])}}}),[["__scopeId","data-v-d79f6c53"]]);export{T as _};
