import{r as e,_ as t,c as a}from"./cl-page.uvue_vue_type_script_setup_true_lang.0nEhSiOF.js";import{d as s,h as r,r as n,V as o,W as l,a as u,o as c,c as i,w as p,u as _,Y as m,f as d,g as S,A as v}from"./index-OmDYQuYg.js";class f extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},color:{type:String,optional:!0}}}}}constructor(e,t=f.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,a),this.className=this.__props__.className,this.color=this.__props__.color,delete this.__props__}}const N=a(s({__name:"cl-rolling-number",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},value:{type:Number,default:0},duration:{type:Number,default:1e3},decimals:{type:Number,default:0}},setup(a,s){var f=s.expose;const N=a,T=r((()=>m(N.pt))),b=n(0),g=n("0");let O=0,U=0,h=0,y=0;function j(e){return 0==N.decimals?Math.round(e).toString():e.toFixed(N.decimals)}function w(e){0==y&&(y=e);const t=e-y,a=Math.min(t/N.duration,1),s=(r=a,1-Math.pow(1-r,3));var r;const n=U+(h-U)*s;b.value=n,g.value=j(n),a<1?O=requestAnimationFrame((e=>w(e))):(b.value=h,g.value=j(h),O=0)}function x(){0!=O&&(cancelAnimationFrame(O),O=0)}function J(e,t){x(),U=e,h=t,y=0,O=requestAnimationFrame(w)}function M(){J(0,N.value)}return o(r((()=>N.value)),((e,t)=>{e!=t&&J(b.value,e)}),{immediate:!1}),l((()=>{M()})),f(new UTSJSONObject({start:M,stop:x})),(a=null,s=null)=>{const r=e(u("cl-text"),t);return c(),i(r,new UTSJSONObject({color:T.value.color,pt:new UTSJSONObject({className:_(v)(["cl-rolling-number",T.value.className])})}),new UTSJSONObject({default:p((()=>[d(S(g.value),1)])),_:1}),8,["color","pt"])}}}),[["__scopeId","data-v-d79f6c53"]]);export{N as _};
