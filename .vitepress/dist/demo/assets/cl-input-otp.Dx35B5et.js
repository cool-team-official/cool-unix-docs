import{d as e,h as l,r as t,X as a,a as s,o as u,c as n,w as o,i as p,Y as i,_ as c,e as r,l as d,m as _,u as m,p as v,f as S,g as h,x as f,F as b,a2 as y}from"./index-CNagV5B9.js";import{_ as O}from"./cl-input.tsrNEnDP.js";import{r as g,_ as N,c as U}from"./cl-page.uvue_vue_type_script_setup_true_lang.Dujw6vu5.js";class T extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},list:{type:"Unknown",optional:!0},item:{type:"Unknown",optional:!0},cursor:{type:"Unknown",optional:!0},value:{type:"Unknown",optional:!0}}}}}constructor(e,l=T.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,t),this.className=this.__props__.className,this.list=this.__props__.list,this.item=this.__props__.item,this.cursor=this.__props__.cursor,this.value=this.__props__.value,delete this.__props__}}const j=U(e(Object.assign({name:"cl-input-otp"},{__name:"cl-input-otp",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},autofocus:{type:Boolean,default:!1},length:{type:Number,default:4},disabled:{type:Boolean,default:!1},inputType:{type:String,default:"number"}},emits:["update:modelValue","done"],setup(e,U){var T=U.emit;const j=e,w=T,k=l((()=>i(j.pt))),J=t(null),V=t(j.modelValue),x=l((()=>!j.disabled&&(null!=J.value&&J.value.isFocus))),$=l((()=>{const e=[];for(let l=0;l<j.length;l++)e.push(V.value.charAt(l));return e}));function B(e){w("update:modelValue",e),e.length==j.length&&(y(),w("done",e))}return a(l((()=>j.modelValue)),(e=>{V.value=e})),(l=null,t=null)=>{const a=g(s("cl-input"),O),i=c,y=g(s("cl-text"),N);return u(),n(i,new UTSJSONObject({class:p(["cl-input-otp",[new UTSJSONObject({}),new UTSJSONObject({"cl-input-otp--disabled":e.disabled}),k.value.className]])}),{default:o((()=>{var l;return[r(i,new UTSJSONObject({class:"cl-input-otp__inner"}),{default:o((()=>[r(a,new UTSJSONObject({modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=(e=null)=>V.value=e),ref_key:"inputRef",ref:J,type:e.inputType,pt:new UTSJSONObject({className:"-important-h-full"}),disabled:e.disabled,autofocus:e.autofocus,maxlength:e.length,"hold-keyboard":!1,clearable:!1,onChange:B}),null,8,["modelValue","type","disabled","autofocus","maxlength"])])),_:1}),r(i,{class:p(["cl-input-otp__list",[new UTSJSONObject({}),null===(l=k.value.list)||void 0===l?null:l.className]])},{default:o((()=>[(u(!0),d(b,null,_($.value,((l,t)=>{var a;return u(),n(i,{key:t,class:p(["cl-input-otp__item",[new UTSJSONObject({"is-disabled":e.disabled,"is-dark":m(v),"is-active":V.value.length>=t&&x.value}),null===(a=k.value.item)||void 0===a?null:a.className]])},{default:o((()=>{var e,a;return[r(y,{color:V.value.length>=t&&x.value?"primary":"",pt:{className:null===(e=k.value.value)||void 0===e?null:e.className}},{default:o((()=>[S(h(l),1)])),_:2},1032,["color","pt"]),V.value.length==t&&x.value&&""==l?(u(),n(i,{key:0,class:p(["cl-input-otp__cursor",[new UTSJSONObject({}),null===(a=k.value.cursor)||void 0===a?null:a.className]])},null,8,["class"])):f("",!0)]})),_:2},1032,["class"])})),128))])),_:1},8,["class"])]})),_:1},8,["class"])}}})),[["__scopeId","data-v-1e3dec14"]]);export{j as _};
