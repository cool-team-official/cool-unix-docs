import{d as e,a0 as t,h as l,r as s,V as a,W as i,a as n,o,c as r,w as u,i as c,u as d,n as p,Y as _,a5 as v,_ as b,e as S,l as h,m as f,a6 as m,J as y,A as w,q as T,f as U,g as O,F as g,x as N,H as j,a3 as x,a2 as k,az as J,R as $,ac as A}from"./index-OmDYQuYg.js";import{r as C,_ as B,c as M}from"./cl-page.uvue_vue_type_script_setup_true_lang.0nEhSiOF.js";class V extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{label:{type:String,optional:!1},value:{type:"Unknown",optional:!1},disabled:{type:Boolean,optional:!1},isActive:{type:Boolean,optional:!1}}}}}constructor(e,t=V.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,l),this.label=this.__props__.label,this.value=this.__props__.value,this.disabled=this.__props__.disabled,this.isActive=this.__props__.isActive,delete this.__props__}}class z extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},text:{type:"Unknown",optional:!0},item:{type:"Unknown",optional:!0},line:{type:"Unknown",optional:!0},slider:{type:"Unknown",optional:!0}}}}}constructor(e,t=z.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,l),this.className=this.__props__.className,this.text=this.__props__.text,this.item=this.__props__.item,this.line=this.__props__.line,this.slider=this.__props__.slider,delete this.__props__}}class L extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{left:{type:Number,optional:!1},width:{type:Number,optional:!1}}}}}constructor(e,t=L.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,l),this.left=this.__props__.left,this.width=this.__props__.width,delete this.__props__}}const P=M(e(Object.assign({name:"cl-tabs"},{__name:"cl-tabs",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:[String,Number],default:""},height:{type:[String,Number],default:80},list:{type:Array,default:()=>[]},fill:{type:Boolean,default:!1},gutter:{type:Number,default:30},color:{type:String,default:""},unColor:{type:String,default:""},showLine:{type:Boolean,default:!0},showSlider:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,M){var z=M.emit;const P=e,I=z,R=t().proxy,X=l((()=>_(P.pt))),q=s(P.modelValue),F=l((()=>P.list.map((e=>{var t;return new V({label:e.label,value:e.value,disabled:null!==(t=e.disabled)&&void 0!==t&&t,isActive:e.value==q.value})}))));function H(e){let t;return t=e?P.color:P.unColor,x(t)?null:t}const W=s(0),Y=s(0),D=s(0),E=s(0),G=s(0),K=s(0),Q=s([]),Z=l((()=>{const e=new UTSJSONObject({});e.transform="translateX(".concat(D.value,"px)");const t=H(!0);return null!=t&&(e.backgroundColor=t),e})),ee=l((()=>{const e=new UTSJSONObject({});e.transform="translateX(".concat(E.value,"px)"),e.width=G.value+"px";const t=H(!0);return null!=t&&(e.backgroundColor=t),e}));function te(e){const t=new UTSJSONObject({}),l=H(e.isActive);return null!=l&&(t.color=l),t}function le(){k((()=>{if(!x(Q.value)){const e=Q.value[function(){const e=F.value.findIndex((e=>e.isActive));return-1==e?0:e}()];if(!$(e)){let t=e.left-(W.value-e.width)/2-Y.value;t<0&&(t=0),K.value=t,D.value=e.left+e.width/2-A(16)-Y.value,E.value=e.left-Y.value,G.value=e.width}}}))}function se(){setTimeout((()=>{v().in(R).select(".cl-tabs").boundingClientRect(((e=null)=>{var t,l;Y.value=null!==(t=e.left)&&void 0!==t?t:0,W.value=null!==(l=e.width)&&void 0!==l?l:0,v().in(R).selectAll(".cl-tabs__item").fields(new UTSJSONObject({rect:!0,size:!0}),(()=>{})).exec((e=>{Q.value=e[0].map((e=>{var t,l;return new L({left:null!==(t=e.left)&&void 0!==t?t:0,width:null!==(l=e.width)&&void 0!==l?l:0})})),le()}))})).exec()}),0)}return a(l((()=>P.modelValue)),(e=>{q.value=e,le()}),{immediate:!0}),a(l((()=>P.list)),(()=>{k((()=>{se()}))})),i((()=>{se()})),(t=null,l=null)=>{const s=C(n("cl-text"),B),a=b,i=J;return o(),r(a,new UTSJSONObject({class:c(["cl-tabs",[new UTSJSONObject({}),new UTSJSONObject({"cl-tabs--line":e.showLine,"cl-tabs--slider":e.showSlider,"cl-tabs--fill":e.fill,"cl-tabs--disabled":e.disabled,"is-dark":d(T)}),X.value.className]]),style:p({height:d(m)(e.height)})}),{default:u((()=>[S(i,new UTSJSONObject({class:"cl-tabs__scrollbar","scroll-with-animation":!0,"scroll-x":!0,direction:"horizontal","scroll-left":K.value,"show-scrollbar":!1}),{default:u((()=>[S(a,new UTSJSONObject({class:"cl-tabs__inner"}),{default:u((()=>{var l,i;return[(o(!0),h(g,null,f(F.value,((l,i)=>{var n;return o(),r(a,{class:c(["cl-tabs__item",[new UTSJSONObject({}),null===(n=X.value.item)||void 0===n?null:n.className]]),key:i,style:p({padding:"0 ".concat(d(m)(e.gutter))}),onClick:(e=null)=>function(e){return j(this,void 0,void 0,(function*(){if(P.disabled)return!1;const t=F.value[e],l=t.value;if(t.disabled)return!1;I("update:modelValue",l),I("change",l)}))}(i)},{default:u((()=>[y(t.$slots,"item",new UTSJSONObject({item:l,active:l.isActive}),(()=>{var t;return[S(s,{pt:{className:d(w)(["cl-tabs__item-label",new UTSJSONObject({"is-active":l.isActive,"is-disabled":l.disabled,"is-dark":d(T),"is-fill":e.fill}),null===(t=X.value.text)||void 0===t?null:t.className])},style:p(te(l))},{default:u((()=>[U(O(l.label),1)])),_:2},1032,["pt","style"])]}),!0)])),_:2},1032,["class","style","onClick"])})),128)),D.value>0?(o(),h(g,new UTSJSONObject({key:0}),[e.showLine?(o(),r(a,{key:0,class:c(["cl-tabs__line",[new UTSJSONObject({}),null===(l=X.value.line)||void 0===l?null:l.className]]),style:p(Z.value)},null,8,["class","style"])):N("",!0),e.showSlider?(o(),r(a,{key:1,class:c(["cl-tabs__slider",[new UTSJSONObject({}),null===(i=X.value.slider)||void 0===i?null:i.className]]),style:p(ee.value)},null,8,["class","style"])):N("",!0)],64)):N("",!0)]})),_:3})])),_:3},8,["scroll-left"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-83e5148f"]]);export{P as _};
