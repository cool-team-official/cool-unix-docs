import{d as t,Z as e,ad as a,h as s,H as l,V as n,U as i,W as r,a as o,o as c,c as u,w as p,i as _,n as d,u as S,X as b,_ as O,e as m,l as f,m as T,a6 as h,I as U,z as N,f as x,g as y,F as w,a1 as j,t as g}from"./index-CFWlDISK.js";import{r as v,_ as J,c as X,a as $,b as M}from"./cl-page.uvue_vue_type_script_setup_true_lang.C1NjrWQg.js";import{D as k}from"./item._cT5xCgF.js";import"./item.uvue_vue_type_style_index_0_scoped_b08ace3b_lang.GzhFa787.js";class z extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},text:{type:"Unknown",optional:!0}}}}}constructor(t,e=z.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(t,e,a),this.className=this.__props__.className,this.text=this.__props__.text,delete this.__props__}}class I extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{left:{type:Number,optional:!1},top:{type:Number,optional:!1},translateX:{type:Number,optional:!1},duration:{type:Number,optional:!1}}}}}constructor(t,e=I.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(t,e,a),this.left=this.__props__.left,this.top=this.__props__.top,this.translateX=this.__props__.translateX,this.duration=this.__props__.duration,delete this.__props__}}const A=X(t(Object.assign({name:"cl-noticebar"},{__name:"cl-noticebar",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},text:{type:[String,Array],default:""},direction:{type:String,default:"horizontal"},duration:{type:Number,default:3e3},speed:{type:Number,default:100},height:{type:[String,Number],default:40}},emits:["close"],setup(t,g){g.emit;const X=t,$=e().proxy,M=a().windowWidth,k=s((()=>b(X.pt))),z=l(new I({left:M,top:0,translateX:0,duration:0}));let A=0;const C=s((()=>Array.isArray(X.text)?X.text:[X.text])),P=s((()=>{const t=new UTSJSONObject({});return"horizontal"==X.direction?(t.left="".concat(z.left,"px"),t.transform="translateX(-".concat(z.translateX,"px)"),t["transition-duration"]="".concat(z.duration,"ms")):t.transform="translateY(".concat(z.top,"px)"),t}));function R(){0!=A&&(clearInterval(A),clearTimeout(A),A=0)}return n((()=>{i(s((()=>X.text)),(()=>{R(),j().in($).select(".cl-noticebar").boundingClientRect(((t=null)=>{var e,a;const s=null!==(e=t.height)&&void 0!==e?e:0,l=null!==(a=t.width)&&void 0!==a?a:0;j().in($).select(".cl-noticebar__text").boundingClientRect(((t=null)=>{var e;if("horizontal"==X.direction){let a=function(){z.translateX=s+l,z.duration=Math.ceil(z.translateX/X.speed*1e3),z.left=l,A=setTimeout((()=>{z.translateX=0,z.duration=0,setTimeout((()=>{a()}),100)}),z.duration)};const s=null!==(e=t.width)&&void 0!==e?e:0;a()}else A=setInterval((()=>{Math.abs(z.top)>=s*(C.value.length-1)?z.top=0:z.top-=s}),X.duration)})).exec()})).exec()}),{immediate:!0})})),r((()=>{R()})),(e=null,a=null)=>{const s=v(o("cl-text"),J),l=O;return c(),u(l,new UTSJSONObject({class:_(["cl-noticebar",[new UTSJSONObject({}),k.value.className]]),style:d({height:S(h)(t.height)})}),{default:p((()=>[m(l,new UTSJSONObject({class:_(["cl-noticebar__scroller",[new UTSJSONObject({}),"is-".concat(t.direction)]]),style:d(P.value)}),{default:p((()=>[(c(!0),f(w,null,T(C.value,((a,n)=>(c(),u(l,new UTSJSONObject({key:n,class:"cl-noticebar__item",style:d({height:S(h)(t.height)})}),{default:p((()=>[U(e.$slots,"text",new UTSJSONObject({item:a}),(()=>{var t;return[m(s,{pt:{className:S(N)(["cl-noticebar__text",null===(t=k.value.text)||void 0===t?null:t.className])}},{default:p((()=>[x(y(a),1)])),_:2},1032,["pt"])]}),!0)])),_:2},1032,["style"])))),128))])),_:3},8,["class","style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-b06e769b"]]),C=t({__name:"noticebar",setup:t=>(t=null,e=null)=>{const a=v(o("cl-noticebar"),A),s=v(o("cl-icon"),$),l=O,n=v(o("cl-page"),M);return c(),u(n,null,new UTSJSONObject({default:p((()=>[m(l,new UTSJSONObject({class:"p-3"}),{default:p((()=>[m(S(k),new UTSJSONObject({label:S(g)("基础用法")}),{default:p((()=>[m(a,new UTSJSONObject({text:"云想衣裳花想容，春风拂槛露华浓。若非群玉山头见，会向瑶台月下逢。"}))])),_:1},8,["label"]),m(S(k),new UTSJSONObject({label:S(g)("带图标")}),{default:p((()=>[m(l,new UTSJSONObject({class:"flex flex-row items-center"}),{default:p((()=>[m(s,new UTSJSONObject({name:"notification-4-line",class:"mr-2"})),m(a,new UTSJSONObject({text:"云想衣裳花想容，春风拂槛露华浓。若非群玉山头见，会向瑶台月下逢。"}))])),_:1})])),_:1},8,["label"]),m(S(k),new UTSJSONObject({label:S(g)("设置速度")}),{default:p((()=>[m(a,new UTSJSONObject({speed:40,text:"云想衣裳花想容，春风拂槛露华浓。若非群玉山头见，会向瑶台月下逢。"}))])),_:1},8,["label"]),m(S(k),new UTSJSONObject({label:S(g)("垂直方向")}),{default:p((()=>[m(a,new UTSJSONObject({direction:"vertical",text:["江南可采莲，莲叶何田田","鱼戏莲叶间","鱼戏莲叶东","鱼戏莲叶西","鱼戏莲叶南","鱼戏莲叶北"]}))])),_:1},8,["label"])])),_:1})])),_:1}))}});export{C as default};
