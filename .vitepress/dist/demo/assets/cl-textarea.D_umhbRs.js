import{d as e,t as a,h as t,r as o,U as l,a as n,o as r,c as s,w as u,i as d,u as i,V as c,W as p,X as f,_ as m,e as h,p as b,n as g,f as y,g as S,v,Y as _}from"./index-C9No-3tr.js";import{f as x,r as j,_ as N,c as O}from"./cl-page.uvue_vue_type_script_setup_true_lang.BYryoqR_.js";import{u as T,a as w}from"./form.D4AfNkl8.js";class U extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0}}}}}constructor(e,a=U.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,a,t),this.className=this.__props__.className,this.inner=this.__props__.inner,delete this.__props__}}const B=O(e(Object.assign({name:"cl-textarea"},{__name:"cl-textarea",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},border:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},showWordLimit:{type:Boolean,default:!0},name:{type:String,default:""},placeholder:{type:String,default:()=>a("请输入")},placeholderClass:{type:String,default:""},maxlength:{type:Number,default:140},autofocus:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},cursor:{type:Number,default:0},confirmHold:{type:Boolean,default:!1},height:{type:[Number,String],default:120},autoHeight:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},cursorSpacing:{type:Number,default:5},cursorColor:{type:String,default:""},showConfirmBar:{type:Boolean,default:!0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},adjustPosition:{type:Boolean,default:!0},inputmode:{type:String,default:"text"},holdKeyboard:{type:Boolean,default:!1},disableDefaultPadding:{type:Boolean,default:!0},adjustKeyboardTo:{type:String,default:"cursor"}},emits:["update:modelValue","input","change","focus","blur","confirm","linechange","keyboardheightchange"],setup(e,a){var O=a.expose,U=a.emit;const B=e,k=U,J=T().disabled,C=w().isError,V=t((()=>J.value||B.disabled)),K=t((()=>c(B.pt))),P=x((()=>{var e,a;return null!==(a=null===(e=K.value.inner)||void 0===e?null:e.className)&&void 0!==a?a:""})),H=P.ptClassName,$=P.getSize,L=t((()=>{const e=new UTSJSONObject({height:p(B.height)}),a=$(null);return null!=a&&(e.fontSize=a),e})),W=o(B.modelValue),z=o(B.autofocus);function D(e){z.value=!0,k("focus",e)}function E(e){k("blur",e),setTimeout((()=>{z.value=!1}),0)}function F(e){const a=e.detail.value,t=W.value;W.value=a,k("update:modelValue",a),k("input",e),a!=t&&k("change",a)}function I(e){k("confirm",e)}function M(e){k("keyboardheightchange",e)}function X(e){k("linechange",e)}function Y(){if(V.value)return null;z.value=!0}return l(t((()=>B.modelValue)),(e=>{W.value=e})),O(new UTSJSONObject({isFocus:z,focus:function(){setTimeout((()=>{z.value=!1,f((()=>{z.value=!0}))}),0)}})),(a=null,t=null)=>{const o=_,l=j(n("cl-text"),N),c=m;return r(),s(c,new UTSJSONObject({class:d(["cl-textarea",[new UTSJSONObject({}),K.value.className,new UTSJSONObject({"is-dark":i(b),"cl-textarea--border":e.border,"cl-textarea--focus":z.value,"cl-textarea--disabled":V.value,"cl-textarea--error":i(C)})]]),onClick:Y}),{default:u((()=>{var a;return[h(o,{class:d(["cl-textarea__inner",[new UTSJSONObject({"dark-colon-text-surface-50":i(b)}),new UTSJSONObject({"is-disabled":V.value,"is-dark":i(b)}),i(H)]]),style:g(L.value),value:W.value,name:e.name,disabled:null!==(a=e.readonly)&&void 0!==a?a:V.value,placeholder:e.placeholder,"placeholder-class":"text-surface-400 ".concat(e.placeholderClass),maxlength:e.maxlength,"auto-focus":z.value,cursor:e.cursor,"cursor-spacing":e.cursorSpacing,"cursor-color":e.cursorColor,"show-confirm-bar":e.showConfirmBar,"confirm-hold":e.confirmHold,"auto-height":e.autoHeight,fixed:e.fixed,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,inputmode:e.inputmode,"disable-default-padding":e.disableDefaultPadding,"adjust-keyboard-to":e.adjustKeyboardTo,onConfirm:I,onInput:F,onLinechange:X,onBlur:E,onFocus:D,onKeyboardheightchange:M},null,8,["class","style","value","name","disabled","placeholder","placeholder-class","maxlength","auto-focus","cursor","cursor-spacing","cursor-color","show-confirm-bar","confirm-hold","auto-height","fixed","adjust-position","hold-keyboard","inputmode","disable-default-padding","adjust-keyboard-to"]),e.showWordLimit?(r(),s(l,new UTSJSONObject({key:0,pt:new UTSJSONObject({className:"absolute right-2 bottom-2 -important-text-xs -important-text-surface-400"})}),new UTSJSONObject({default:u((()=>[y(S(W.value.length)+" / "+S(e.maxlength),1)])),_:1}))):v("",!0)]})),_:1},8,["class"])}}})),[["__scopeId","data-v-9f92b7cd"]]);export{B as _};
