import{r as e,_ as a,c as l}from"./cl-page.uvue_vue_type_script_setup_true_lang.BVJ1wxp1.js";import{d as t,t as n,c as o,z as s,T as u,r as c,o as i,a as r,w as p,n as d,u as f,W as m,Z as S,_,H as v,b as y,x as b,q as h,e as O,a5 as N}from"./index-CaoFoJS7.js";import{u as T}from"./form.B8y9r7Ff.js";class g extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0},prefixIcon:{type:"Unknown",optional:!0},suffixIcon:{type:"Unknown",optional:!0}}}}}constructor(e,a=g.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,a,l),this.className=this.__props__.className,this.inner=this.__props__.inner,this.prefixIcon=this.__props__.prefixIcon,this.suffixIcon=this.__props__.suffixIcon,delete this.__props__}}const x=l(t(Object.assign({name:"cl-input"},{__name:"cl-input",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},type:{type:String,default:"text"},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},password:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},placeholder:{type:String,default:()=>n("请输入")},placeholderClass:{type:String,default:""},border:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},cursorSpacing:{type:Number,default:5},confirmHold:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},adjustPosition:{type:Boolean,default:!0},maxlength:{type:Number,default:140},holdKeyboard:{type:Boolean,default:!1}},emits:["update:modelValue","input","change","focus","blur","confirm","clear","keyboardheightchange"],setup(l,t){var n=t.expose,g=t.emit;const x=l,j=g,w=T().disabled,U=o((()=>w.value||x.disabled)),k=o((()=>m(x.pt))),J=s(""),I=s(x.autofocus),B=o((()=>I.value&&x.clearable&&""!=J.value)),z=s(x.password);function C(){z.value=!z.value}function $(){I.value=!0,j("focus")}function V(){j("blur"),setTimeout((()=>{I.value=!1}),0)}function H(e){const a=e.detail.value;J.value=a,j("update:modelValue",a),j("input",a),a!=J.value&&j("change",a)}function K(e){j("confirm",e)}function P(e){j("keyboardheightchange",e)}function F(){if(U.value)return null;I.value=!0}function M(){setTimeout((()=>{I.value=!1,S((()=>{I.value=!0}))}),0)}function q(){J.value="",j("update:modelValue",""),j("change",""),j("clear"),M()}return u(o((()=>x.modelValue)),(e=>{J.value=e}),{immediate:!0}),n(new UTSJSONObject({isFocus:I,focus:M,clear:q})),(t=null,n=null)=>{const o=e(c("cl-icon"),a),s=_,u=N;return i(),r(s,new UTSJSONObject({class:d(["cl-input",[new UTSJSONObject({}),k.value.className,new UTSJSONObject({"is-dark":f(O),"cl-input--border":l.border,"cl-input--focus":I.value,"cl-input--disabled":U.value})]]),onClick:F}),{default:p((()=>{var e,a;return[v(t.$slots,"prepend",new UTSJSONObject({}),void 0,!0),l.prefixIcon?(i(),r(s,new UTSJSONObject({key:0,class:"cl-input__icon -important-pl-0 pr--bracket-start-12rpx-bracket-end-"}),{default:p((()=>{var e,a,t;return[y(o,{name:l.prefixIcon,size:null!==(a=null===(e=k.value.prefixIcon)||void 0===e?null:e.size)&&void 0!==a?a:32,pt:{className:f(b)([null===(t=k.value.prefixIcon)||void 0===t?null:t.className])}},null,8,["name","size","pt"])]})),_:1})):h("",!0),y(u,{class:d(["cl-input__inner",[new UTSJSONObject({}),new UTSJSONObject({"is-disabled":U.value,"is-dark":f(O)}),null===(e=k.value.inner)||void 0===e?null:e.className]]),value:J.value,disabled:null!==(a=l.readonly)&&void 0!==a?a:U.value,type:l.type,password:z.value,focus:I.value,placeholder:l.placeholder,"placeholder-class":"text-surface-400 ".concat(l.placeholderClass),maxlength:l.maxlength,"cursor-spacing":l.cursorSpacing,"confirm-type":l.confirmType,"confirm-hold":l.confirmHold,"adjust-position":l.adjustPosition,"hold-keyboard":l.holdKeyboard,onInput:H,onFocus:$,onBlur:V,onConfirm:K,onKeyboardheightchange:P},null,8,["class","value","disabled","type","password","focus","placeholder","placeholder-class","maxlength","cursor-spacing","confirm-type","confirm-hold","adjust-position","hold-keyboard"]),l.suffixIcon?(i(),r(s,new UTSJSONObject({key:1,class:"cl-input__icon"}),{default:p((()=>{var e,a,t;return[y(o,{name:l.suffixIcon,size:null!==(a=null===(e=k.value.suffixIcon)||void 0===e?null:e.size)&&void 0!==a?a:32,pt:{className:f(b)([null===(t=k.value.prefixIcon)||void 0===t?null:t.className])}},null,8,["name","size","pt"])]})),_:1})):h("",!0),B.value?(i(),r(s,new UTSJSONObject({key:2,class:"cl-input__icon",onClick:q}),new UTSJSONObject({default:p((()=>[y(o,new UTSJSONObject({name:"close-circle-fill",size:32,pt:new UTSJSONObject({className:"-important-text-surface-400"})}))])),_:1}))):h("",!0),l.password?(i(),r(s,new UTSJSONObject({key:3,class:"cl-input__icon",onClick:C}),new UTSJSONObject({default:p((()=>[y(o,new UTSJSONObject({name:z.value?"eye-line":"eye-off-line",size:32,pt:new UTSJSONObject({className:"-important-text-surface-300"})}),null,8,["name"])])),_:1}))):h("",!0),v(t.$slots,"append",new UTSJSONObject({}),void 0,!0)]})),_:3},8,["class"])}}})),[["__scopeId","data-v-89ac4cd7"]]);export{x as _};
