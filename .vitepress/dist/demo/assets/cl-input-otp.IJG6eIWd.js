import{d as e,h as t,r as l,U as a,a as s,o as u,c as n,w as o,i as p,X as i,_ as c,e as r,l as d,m as _,u as m,p as v,f as S,g as b,n as f,v as h,F as y,a8 as O}from"./index-Dg8V4FTF.js";import{_ as U}from"./cl-input.BVBLhZeS.js";import{r as N,_ as T,c as g}from"./cl-page.uvue_vue_type_script_setup_true_lang.DRUWCFX0.js";class w extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},list:{type:"Unknown",optional:!0},item:{type:"Unknown",optional:!0},cursor:{type:"Unknown",optional:!0},value:{type:"Unknown",optional:!0}}}}}constructor(e,t=w.get$UTSMetadata$(),l=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,l),this.className=this.__props__.className,this.list=this.__props__.list,this.item=this.__props__.item,this.cursor=this.__props__.cursor,this.value=this.__props__.value,delete this.__props__}}const j=g(e(Object.assign({name:"cl-input-otp"},{__name:"cl-input-otp",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},autofocus:{type:Boolean,default:!1},length:{type:Number,default:4},disabled:{type:Boolean,default:!1},inputType:{type:String,default:"number"}},emits:["update:modelValue","done"],setup(e,g){var w=g.emit;const j=e,J=w,k=t((()=>i(j.pt))),V=l(null),x=l(j.modelValue),$=t((()=>!j.disabled&&(null!=V.value&&V.value.isFocus))),B=t((()=>{const e=[];for(let t=0;t<j.length;t++)e.push(x.value.charAt(t));return e}));function F(e){J("update:modelValue",e),e.length==j.length&&(O(),J("done",e))}a(t((()=>j.modelValue)),(e=>{x.value=e}));const I=l(.3);return(t=null,l=null)=>{const a=N(s("cl-input"),U),i=c,O=N(s("cl-text"),T);return u(),n(i,new UTSJSONObject({class:p(["cl-input-otp",[new UTSJSONObject({}),new UTSJSONObject({"cl-input-otp--disabled":e.disabled}),k.value.className]])}),{default:o((()=>{var t;return[r(i,new UTSJSONObject({class:"cl-input-otp__inner"}),{default:o((()=>[r(a,new UTSJSONObject({modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>x.value=e),ref_key:"inputRef",ref:V,type:e.inputType,pt:new UTSJSONObject({className:"-important-h-full"}),disabled:e.disabled,autofocus:e.autofocus,maxlength:e.length,"hold-keyboard":!1,clearable:!1,onInput:F,onFocus:l[1]||(l[1]=(e=null)=>{}),onBlur:l[2]||(l[2]=(e=null)=>{})}),null,8,["modelValue","type","disabled","autofocus","maxlength"])])),_:1}),r(i,{class:p(["cl-input-otp__list",[new UTSJSONObject({}),null===(t=k.value.list)||void 0===t?null:t.className]])},{default:o((()=>[(u(!0),d(y,null,_(B.value,((t,l)=>{var a;return u(),n(i,{key:l,class:p(["cl-input-otp__item",[new UTSJSONObject({}),new UTSJSONObject({"is-disabled":e.disabled,"is-dark":m(v),"is-active":x.value.length==l&&$.value}),null===(a=k.value.item)||void 0===a?null:a.className]])},{default:o((()=>{var e,a;return[r(O,{pt:{className:null===(e=k.value.value)||void 0===e?null:e.className}},{default:o((()=>[S(b(t),1)])),_:2},1032,["pt"]),x.value.length==l&&$.value&&""==t?(u(),n(i,{key:0,class:p(["cl-input-otp__cursor",[new UTSJSONObject({}),null===(a=k.value.cursor)||void 0===a?null:a.className]]),style:f({opacity:I.value})},null,8,["class","style"])):h("",!0)]})),_:2},1032,["class"])})),128))])),_:1},8,["class"])]})),_:1},8,["class"])}}})),[["__scopeId","data-v-8b53bd79"]]);export{j as _};
