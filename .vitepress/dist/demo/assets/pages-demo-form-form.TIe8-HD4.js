import{_ as e}from"./cl-upload.T6U9hJQf.js";import{d as l,c as a,T as t,U as r,V as s,r as n,o as u,a as i,w as o,n as c,W as d,_ as p,b as m,X as S,f as b,g as v,q as f,H as _,u as O,x as g,Y as h,z as w,t as U,$ as j,Z as N,a0 as T,a1 as y,j as J,k as x,F as V}from"./index-BoLJSUaB.js";import{r as k,a as q,c as A,u as P,d as M,b as $}from"./cl-page.uvue_vue_type_script_setup_true_lang.Dheht3lz.js";import{u as B}from"./form.BEYq8pne.js";import{_ as F}from"./cl-input.BywV8_cE.js";import{_ as W}from"./cl-slider.D1Ivhab1.js";import{_ as E}from"./cl-checkbox.DQUvrzR0.js";import{_ as R}from"./cl-select.Bxnwd2bY.js";import{p as G,_ as z}from"./pca.rLxuwStJ.js";import{_ as C}from"./cl-select-date.C4bPKRM6.js";import{_ as I}from"./cl-textarea.Fmvg8pGI.js";import{_ as D}from"./cl-switch.4FykB9q0.js";import{_ as H}from"./cl-footer.BV9SrAR9.js";import{D as X}from"./item.CzcTh_6w.js";import{u as Y}from"./cl-list-view.mxrionq9.js";import{d as Z}from"./day.C6z4Qky5.js";import"./cl-progress.DBD9vP3y.js";import"./cl-rolling-number.Dw-mG268.js";import"./index.WvES97Jo.js";import"./parent.phDa3RcX.js";import"./cl-select-trigger.C_tCVnl8.js";import"./cl-picker-view.p1zCJSSA.js";import"./cl-tag.DcWxYHvy.js";import"./index.U6ITPUe7.js";import"./item.uvue_vue_type_style_index_0_scoped_f51a3be8_lang.BGb2S0gq.js";UTS.UTSType;const K=A(l(Object.assign({name:"cl-form-item"},{__name:"cl-form-item",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},label:{type:String,default:""},prop:{type:String,default:""},labelPosition:{type:String,default:null},labelWidth:{type:String,default:null},showAsterisk:{type:Boolean,default:null},showMessage:{type:Boolean,default:null},required:{type:Boolean,default:!1}},setup(e){const l=e,w=B(),U=w.formRef,j=w.getError,N=w.getValue,T=w.validateField,y=w.addField,J=w.removeField,x=a((()=>d(l.pt))),V=a((()=>j(l.prop))),A=a((()=>""!=V.value)),P=a((()=>{var e,a,t;return null!==(t=null!==(e=l.labelPosition)&&void 0!==e?e:null===(a=U.value)||void 0===a?null:a.labelPosition)&&void 0!==t?t:"left"})),M=a((()=>{var e,a,t;return null!==(t=null!==(e=l.labelWidth)&&void 0!==e?e:null===(a=U.value)||void 0===a?null:a.labelWidth)&&void 0!==t?t:"120rpx"})),$=a((()=>{var e,a,t;return!!l.required&&(null===(t=null!==(e=l.showAsterisk)&&void 0!==e?e:null===(a=U.value)||void 0===a?null:a.showAsterisk)||void 0===t||t)})),F=a((()=>{var e,a,t;return!!l.required&&(null===(t=null!==(e=l.showMessage)&&void 0!==e?e:null===(a=U.value)||void 0===a?null:a.showMessage)||void 0===t||t)}));return t(a((()=>l.required)),(e=>{e?y(l.prop):J(l.prop)}),{immediate:!0}),r((()=>{t(a((()=>{const e=N(l.prop);return null==e?"":e})),((e=null,a=null)=>{l.required&&(h(e,a)||T(l.prop))}),{deep:!0})})),s((()=>{J(l.prop)})),(l=null,a=null)=>{const t=k(n("cl-text"),q),r=p;return u(),i(r,new UTSJSONObject({class:c(["cl-form-item",[new UTSJSONObject({}),x.value.className]])}),{default:o((()=>{var a;return[m(r,{class:c(["cl-form-item__inner",[new UTSJSONObject({}),"is-".concat(P.value),null===(a=x.value.inner)||void 0===a?null:a.className]])},{default:o((()=>{var a,s;return[""!=e.label?(u(),i(r,{key:0,class:c(["cl-form-item__label",[new UTSJSONObject({}),"is-".concat(P.value),null===(a=x.value.label)||void 0===a?null:a.className]]),style:S({width:"top"!=P.value?M.value:"auto"})},new UTSJSONObject({default:o((()=>[m(t,null,{default:o((()=>[b(v(e.label),1)])),_:1}),$.value?(u(),i(t,new UTSJSONObject({key:0,color:"error",pt:new UTSJSONObject({className:"ml-1"})}),new UTSJSONObject({default:o((()=>[b(" * ")])),_:1}))):f("",!0)])),_:1}),8,["class","style"])):f("",!0),m(r,{class:c(["cl-form-item__content",[new UTSJSONObject({}),null===(s=x.value.content)||void 0===s?null:s.className]])},{default:o((()=>[_(l.$slots,"default",new UTSJSONObject({}),void 0,!0)])),_:3},8,["class"])]})),_:3},8,["class"]),A.value&&F.value?_(l.$slots,"error",new UTSJSONObject({key:0,error:V.value}),(()=>{var e;return[m(t,{color:"error",pt:{className:O(g)(["mt-2 -important-text-sm",null===(e=x.value.error)||void 0===e?null:e.className])}},{default:o((()=>[b(v(V.value),1)])),_:1},8,["pt"])]}),!0):f("",!0)]})),_:3},8,["class"])}}})),[["__scopeId","data-v-45e3080f"]]);class L extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0}}}}}constructor(e,l=L.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,a),this.className=this.__props__.className,delete this.__props__}}const Q=A(l(Object.assign({name:"cl-form"},{__name:"cl-form",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:Object,default:()=>new UTSJSONObject({})},rules:{type:Object,default:()=>new Map},labelPosition:{type:String,default:"top"},labelWidth:{type:String,default:"140rpx"},showAsterisk:{type:Boolean,default:!0},showMessage:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},setup(e,l){var r=l.expose;const s=e,n=a((()=>d(s.pt))),m=w(new UTSJSONObject({})),S=w(new Map),b=w(new Set([])),v=a((()=>s.labelPosition)),f=a((()=>s.labelWidth)),O=a((()=>s.showAsterisk)),g=a((()=>s.showMessage)),h=a((()=>s.disabled)),J=w(!1);function x(e,l){if(J.value)return null;""!=e&&S.value.set(e,l)}function V(e){""!=e&&S.value.delete(e)}function k(){S.value.clear()}function q(e){return""!=e?m.value[e]:null}function A(e){var l;return null!==(l=UTS.mapGet(s.rules,e))&&void 0!==l?l:[]}function P(e=null,l){var a,t,r,s,n,u,i;if(1==l.required&&(null==e||""==e||Array.isArray(e)&&0==e.length))return null!==(a=l.message)&&void 0!==a?a:U("此字段为必填项");if((null==e||""==e)&&1!=l.required)return null;if(null!=l.min)if("number"==typeof e){if(e<l.min)return null!==(t=l.message)&&void 0!==t?t:j("最小值为{min}",new UTSJSONObject({min:l.min}))}else{if((Array.isArray(e)?e.length:"".concat(e).length)<l.min)return null!==(r=l.message)&&void 0!==r?r:j("最少需要{min}个字符",new UTSJSONObject({min:l.min}))}if(null!=l.max)if("number"==typeof e){if(e>l.max)return null!==(s=l.message)&&void 0!==s?s:j("最大值为{max}",new UTSJSONObject({max:l.max}))}else{if((Array.isArray(e)?e.length:"".concat(e).length)>l.max)return null!==(n=l.message)&&void 0!==n?n:j("最多允许{max}个字符",new UTSJSONObject({max:l.max}))}if(null!=l.pattern&&!l.pattern.test("".concat(e)))return null!==(u=l.message)&&void 0!==u?u:U("格式不正确");if(null!=l.validator){const a=l.validator(e);if(1!=a)return"string"==typeof a?a:null!==(i=l.message)&&void 0!==i?i:U("验证失败")}return null}function M(e){let l=null;if(""!=e){const a=q(e),t=A(e);T(t)||UTS.arrayFind(t,(e=>{const t=P(a,e);return null!=t&&(l=t,!0)})),V(e)}return null!=l&&x(e,l),l}return t(a((()=>y(s.modelValue))),(e=>{m.value=e}),{immediate:!0,deep:!0}),r(new UTSJSONObject({labelPosition:v,labelWidth:f,showAsterisk:O,showMessage:g,disabled:h,data:m,errors:S,fields:b,addField:function(e){""!=e&&b.value.add(e)},removeField:function(e){""!=e&&(b.value.delete(e),V(e))},getValue:q,setError:x,getError:function(e){var l;return""!=e&&null!==(l=S.value.get(e))&&void 0!==l?l:""},removeError:V,clearErrors:k,getRule:A,validateRule:P,clearValidate:function(){J.value=!0,N((()=>{k(),J.value=!1}))},validateField:M,validate:function(e){const l=[];b.value.forEach((e=>{const a=M(e);null!=a&&l.push({field:e,message:a})})),e(0==l.length,l)}})),(e=null,l=null)=>{const a=p;return u(),i(a,new UTSJSONObject({class:c(["cl-form",[new UTSJSONObject({}),"cl-form--label-".concat(v.value),new UTSJSONObject({"cl-form--disabled":h.value}),n.value.className]])}),new UTSJSONObject({default:o((()=>[_(e.$slots,"default",new UTSJSONObject({}),void 0,!0)])),_:3}),8,["class"])}}})),[["__scopeId","data-v-e74795dc"]]);class ee extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{avatarUrl:{type:String,optional:!1},nickName:{type:String,optional:!1},email:{type:String,optional:!1},height:{type:Number,optional:!1},weight:{type:Number,optional:!1},gender:{type:Number,optional:!1},description:{type:String,optional:!1},pca:{type:UTS.UTSType.withGenerics(Array,[String]),optional:!1},tags:{type:UTS.UTSType.withGenerics(Array,[Number]),optional:!1},birthday:{type:String,optional:!1},isPublic:{type:Boolean,optional:!1}}}}}constructor(e,l=ee.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,a),this.avatarUrl=this.__props__.avatarUrl,this.nickName=this.__props__.nickName,this.email=this.__props__.email,this.height=this.__props__.height,this.weight=this.__props__.weight,this.gender=this.__props__.gender,this.description=this.__props__.description,this.pca=this.__props__.pca,this.tags=this.__props__.tags,this.birthday=this.__props__.birthday,this.isPublic=this.__props__.isPublic,delete this.__props__}}const le=l({__name:"form",setup(l){const a=P(),t=B(),r=t.formRef,s=t.validate,c=t.clearValidate,d=[{label:U("未知"),value:0},{label:U("男"),value:1},{label:U("女"),value:2}],S=[{label:U("篮球"),value:1},{label:U("足球"),value:2},{label:U("羽毛球"),value:3},{label:U("乒乓球"),value:4},{label:U("游泳"),value:5}],f=Y(G),_=w(new ee({avatarUrl:"",nickName:"神仙都没用",email:"",height:180,weight:70,gender:0,description:"",pca:[],tags:[1,2],birthday:"",isPublic:!1})),g=new Map([["nickName",[{required:!0,message:U("用户名不能为空")},{min:3,max:20,message:U("用户名长度在3-20个字符之间")}]],["email",[{required:!0,message:U("邮箱不能为空")},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:U("邮箱格式不正确")}]],["height",[{required:!0,message:U("身高不能为空")},{min:160,max:190,message:U("身高在160-190cm之间")}]],["weight",[{required:!0,message:U("体重不能为空")},{min:40,max:100,message:U("体重在40-100kg之间")}]],["tags",[{required:!0,message:U("标签不能为空")},{min:1,max:2,message:U("标签最多选择2个")}]],["gender",[{required:!0,message:U("性别不能为空")}]],["pca",[{required:!0,message:U("所在地区不能为空")}]],["birthday",[{required:!0,message:U("出生年月不能为空")},{validator:(e=null)=>!Z(e).isAfter(Z("2010-01-01"))||U("出生年月不大于2010-01-01")}]]]),h=w(!1);function j(){_.value.avatarUrl="",_.value.nickName="",_.value.email="",_.value.height=180,_.value.weight=70,_.value.gender=0,_.value.description="",_.value.pca=[],_.value.tags=[],_.value.birthday="",_.value.isPublic=!1,c()}function N(){s(((e,l)=>{e?(h.value=!0,setTimeout((()=>{a.showToast({message:U("提交成功"),icon:"check-line"}),h.value=!1,j()}),2e3)):a.showToast({message:l[0].message})}))}return(l=null,a=null)=>{const t=k(n("cl-upload"),e),s=k(n("cl-form-item"),K),c=k(n("cl-input"),F),w=k(n("cl-text"),q),T=k(n("cl-slider"),W),y=k(n("cl-checkbox"),E),A=p,P=k(n("cl-select"),R),B=k(n("cl-cascader"),z),G=k(n("cl-select-date"),C),Y=k(n("cl-textarea"),I),Z=k(n("cl-switch"),D),L=k(n("cl-form"),Q),ee=k(n("cl-button"),M),le=k(n("cl-footer"),H),ae=k(n("cl-page"),$);return u(),i(ae,null,new UTSJSONObject({default:o((()=>[m(A,new UTSJSONObject({class:"p-3"}),{default:o((()=>[m(O(X),null,{default:o((()=>[m(L,new UTSJSONObject({pt:new UTSJSONObject({className:"p-2 pb-0"}),modelValue:_.value,"onUpdate:modelValue":a[11]||(a[11]=(e=null)=>_.value=e),ref_key:"formRef",ref:r,rules:O(g),disabled:h.value,"label-position":"top"}),{default:o((()=>[m(s,new UTSJSONObject({prop:"avatarUrl"}),{default:o((()=>[m(t,new UTSJSONObject({modelValue:_.value.avatarUrl,"onUpdate:modelValue":a[0]||(a[0]=(e=null)=>_.value.avatarUrl=e),test:""}),null,8,["modelValue"])])),_:1}),m(s,new UTSJSONObject({label:O(U)("用户名"),prop:"nickName",required:""}),{default:o((()=>[m(c,new UTSJSONObject({modelValue:_.value.nickName,"onUpdate:modelValue":a[1]||(a[1]=(e=null)=>_.value.nickName=e),placeholder:O(U)("请输入用户名"),clearable:""}),null,8,["modelValue","placeholder"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(U)("邮箱"),prop:"email",required:""}),{default:o((()=>[m(c,new UTSJSONObject({modelValue:_.value.email,"onUpdate:modelValue":a[2]||(a[2]=(e=null)=>_.value.email=e),placeholder:O(U)("请输入邮箱地址")}),null,8,["modelValue","placeholder"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(U)("身高（cm）"),prop:"height",required:""}),{default:o((()=>[m(T,new UTSJSONObject({modelValue:_.value.height,"onUpdate:modelValue":a[3]||(a[3]=(e=null)=>_.value.height=e),max:220,"show-value":""}),{value:o((e=>{var l=e.value;return[m(w,new UTSJSONObject({pt:new UTSJSONObject({className:"text-center w--bracket-start-120rpx-bracket-end-"})}),{default:o((()=>[b(v(l)+" cm",1)])),_:2},1024)]})),_:1},8,["modelValue"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(U)("体重（kg）"),prop:"weight",required:""}),{default:o((()=>[m(T,new UTSJSONObject({modelValue:_.value.weight,"onUpdate:modelValue":a[4]||(a[4]=(e=null)=>_.value.weight=e),max:150,"show-value":""}),{value:o((e=>{var l=e.value;return[m(w,new UTSJSONObject({pt:new UTSJSONObject({className:"text-center w--bracket-start-120rpx-bracket-end-"})}),{default:o((()=>[b(v(l)+" kg",1)])),_:2},1024)]})),_:1},8,["modelValue"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(U)("标签"),prop:"tags",required:""}),{default:o((()=>[m(A,new UTSJSONObject({class:"flex flex-row flex-wrap"}),{default:o((()=>[(u(),J(V,null,x(S,((e,l)=>m(y,new UTSJSONObject({modelValue:_.value.tags,"onUpdate:modelValue":a[5]||(a[5]=(e=null)=>_.value.tags=e),value:l,pt:new UTSJSONObject({className:"mr-5 mt-2"})}),{default:o((()=>[b(v(e.label),1)])),_:2},1032,["modelValue","value"]))),64))])),_:1})])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(U)("性别"),prop:"gender",required:""}),{default:o((()=>[m(P,new UTSJSONObject({modelValue:_.value.gender,"onUpdate:modelValue":a[6]||(a[6]=(e=null)=>_.value.gender=e),options:d}),null,8,["modelValue"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(U)("所在地区"),prop:"pca",required:""}),{default:o((()=>[m(B,new UTSJSONObject({modelValue:_.value.pca,"onUpdate:modelValue":a[7]||(a[7]=(e=null)=>_.value.pca=e),options:O(f)}),null,8,["modelValue","options"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(U)("出生年月"),prop:"birthday",required:""}),{default:o((()=>[m(G,new UTSJSONObject({modelValue:_.value.birthday,"onUpdate:modelValue":a[8]||(a[8]=(e=null)=>_.value.birthday=e),type:"date"}),null,8,["modelValue"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(U)("个人简介"),prop:"description"}),{default:o((()=>[m(Y,new UTSJSONObject({modelValue:_.value.description,"onUpdate:modelValue":a[9]||(a[9]=(e=null)=>_.value.description=e),placeholder:O(U)("请输入个人简介"),maxlength:200}),null,8,["modelValue","placeholder"])])),_:1},8,["label"]),m(s,new UTSJSONObject({label:O(U)("公开状态")}),{default:o((()=>[m(Z,new UTSJSONObject({modelValue:_.value.isPublic,"onUpdate:modelValue":a[10]||(a[10]=(e=null)=>_.value.isPublic=e)}),null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["modelValue","rules","disabled"])])),_:1}),m(O(X),null,{default:o((()=>[m(w,new UTSJSONObject({"pre-wrap":"",pt:new UTSJSONObject({className:"-important-text-sm p-2"})}),{default:o((()=>[b(v(UTS.JSON.stringify(_.value,null,4)),1)])),_:1})])),_:1})])),_:1}),m(le,null,{default:o((()=>[m(A,new UTSJSONObject({class:"flex flex-row"}),{default:o((()=>[m(ee,new UTSJSONObject({type:"info",pt:new UTSJSONObject({className:"flex-1"}),onClick:j}),{default:o((()=>[b(v(O(U)("重置")),1)])),_:1}),m(ee,new UTSJSONObject({type:"primary",loading:h.value,pt:new UTSJSONObject({className:"flex-1"}),onClick:N}),{default:o((()=>[b(v(O(U)("提交")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1}))}}});export{le as default};
