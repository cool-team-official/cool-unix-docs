import{d as e,aa as t,h as a,a as l,o as s,c,w as n,p as r,a6 as u,U as o,_ as i,l as p,m as d,f as m,g as b,F as g,x as O,e as h,n as S,u as v,A as w,Z as _,aw as y,T as f,ax as x,ay as k}from"./index-CNagV5B9.js";import{r as N,_ as j,c as T}from"./cl-page.uvue_vue_type_script_setup_true_lang.Dujw6vu5.js";const U=T(e(Object.assign({name:"cl-select-picker-view"},{__name:"cl-picker-view",props:{headers:{type:Array,default:()=>[]},value:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},itemHeight:{type:Number,default:42},height:{type:Number,default:600}},emits:["change-value","change-index"],setup(e,T){var U=T.emit;const J=e,A=U,C=t().windowWidth,H=a((()=>J.headers.slice(0,J.columns.length))),F=a((()=>r.value?"background-image: linear-gradient(\n\t\t\t180deg,\n\t\t\trgba(0, 0, 0, 0),\n\t\t\trgba(0, 0, 0, 0)\n\t\t)":"")),E=a((()=>{const e=((C-u(20))/J.columns.length-u(2)-8).toFixed(0);let t="";const a=new UTSJSONObject({height:"".concat(J.itemHeight,"px"),width:"".concat(e,"px"),left:"4px",backgroundColor:"rgba(10, 10, 10, 0.04)",borderRadius:"10px",border:"1rpx solid rgba(10, 10, 10, 0.2)"});return r.value&&(a.backgroundColor="rgba(0, 0, 0, 0.1)",a.border="1rpx solid rgba(255, 255, 255, 0.3)"),o(a,((e=null,a)=>{t+="".concat(a,": ").concat(e,";")})),t}));function I(e){const t=e.detail.value;if(t.forEach(((e,t,a)=>{if(t<J.columns.length){const l=J.columns[t].length;e>=l&&(a[t]=l-1)}})),y(t,J.value))return null;const a=J.columns.map(((e,a)=>f(e[t[a]])?0:e[t[a]].value));A("change-value",a),A("change-index",t)}return(t=null,a=null)=>{const u=N(l("cl-text"),j),o=i,y=x,f=k;return s(),c(o,new UTSJSONObject({class:"cl-picker-view"}),new UTSJSONObject({default:n((()=>[H.value.length>0?(s(),c(o,new UTSJSONObject({key:0,class:"cl-picker-view__header"}),new UTSJSONObject({default:n((()=>[(s(!0),p(g,null,d(H.value,((e,t)=>(s(),c(u,new UTSJSONObject({pt:new UTSJSONObject({className:"flex-1 -important-text-sm text-center"}),key:t}),new UTSJSONObject({default:n((()=>[m(b(e),1)])),_:2}),1024)))),128))])),_:1}))):O("",!0),h(o,new UTSJSONObject({class:"px--bracket-start-10rpx-bracket-end-",style:S({height:v(_)(e.height)})}),{default:n((()=>[h(f,new UTSJSONObject({class:"h-full",value:e.value,"mask-style":F.value,"mask-top-style":F.value,"mask-bottom-style":F.value,"indicator-style":E.value,onChange:I}),{default:n((()=>[(s(!0),p(g,null,d(e.columns,((t,a)=>(s(),c(y,new UTSJSONObject({class:"cl-select-popup__column",key:a}),new UTSJSONObject({default:n((()=>[(s(!0),p(g,null,d(t,((t,l)=>(s(),c(o,new UTSJSONObject({class:"cl-picker-view__item",style:S({height:"".concat(e.itemHeight,"px")}),key:l}),new UTSJSONObject({default:n((()=>[h(u,new UTSJSONObject({pt:new UTSJSONObject({className:v(w)([[v(r),"-important-text-surface-500"],[v(r)&&l==e.value[a],"-important-text-white"]])})}),{default:n((()=>[m(b(t.label),1)])),_:2},1032,["pt"])])),_:2}),1032,["style"])))),128))])),_:2}),1024)))),128))])),_:1},8,["value","mask-style","mask-top-style","mask-bottom-style","indicator-style"])])),_:1},8,["style"])])),_:1}))}}})),[["__scopeId","data-v-b9aae274"]]);export{U as _};
