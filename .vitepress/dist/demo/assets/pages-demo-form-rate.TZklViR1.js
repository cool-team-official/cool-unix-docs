import{r as e,a as l,_ as a,c as t,b as o}from"./cl-page.uvue_vue_type_script_setup_true_lang.0nEhSiOF.js";import{d as s,h as u,a as n,o as c,c as d,w as i,i as r,Y as m,_ as p,l as _,m as S,e as b,x as f,F as O,u as v,A as w,f as U,g as N,r as j,t as T}from"./index-OmDYQuYg.js";import{u as h}from"./form.TmXsJQGQ.js";import{_ as V}from"./cl-switch.uwUfW7-M.js";import{_ as J,a as y}from"./cl-list.Cv_akWkK.js";import{D as g}from"./item.ZlPJ9DmU.js";import"./index.U6ITPUe7.js";import"./cl-collapse.Cs1yojvS.js";import"./item.uvue_vue_type_style_index_0_scoped_b08ace3b_lang.D59RzCOE.js";class x extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},item:{type:"Unknown",optional:!0},icon:{type:"Unknown",optional:!0},score:{type:"Unknown",optional:!0}}}}}constructor(e,l=x.get$UTSMetadata$(),a=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,a),this.className=this.__props__.className,this.item=this.__props__.item,this.icon=this.__props__.icon,this.score=this.__props__.score,delete this.__props__}}const z=t(s(Object.assign({name:"cl-rate"},{__name:"cl-rate",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:Number,default:0},max:{type:Number,default:5},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},size:{type:Number,default:40},icon:{type:String,default:"star-fill"},voidIcon:{type:String,default:"star-fill"},color:{type:String,default:"primary"},voidColor:{type:String,default:"#dddddd"}},emits:["update:modelValue","change"],setup(t,o){var s=o.emit;const j=t,T=s,V=u((()=>m(j.pt))),J=h().disabled,y=u((()=>j.disabled||J.value));function g(e){return j.modelValue>=e?j.size:Math.floor(j.modelValue)<e-1?0:Math.floor(j.modelValue%1*j.size)}return(o=null,s=null)=>{const u=e(n("cl-icon"),l),m=p,h=e(n("cl-text"),a);return c(),d(m,new UTSJSONObject({class:r(["cl-rate",[new UTSJSONObject({}),new UTSJSONObject({"cl-rate--disabled":y.value}),V.value.className]])}),{default:i((()=>{var e;return[(c(!0),_(O,null,S(t.max,((e,l)=>{var a;return c(),d(m,{key:l,class:r(["cl-rate__item",[new UTSJSONObject({}),new UTSJSONObject({"cl-rate__item--active":e<=t.modelValue}),null===(a=V.value.item)||void 0===a?null:a.className]]),onTouchstart:(e=null)=>function(e){if(y.value)return null;let l;if(j.allowHalf){const a=e+1;l=j.modelValue==a?e+.5:j.modelValue==e+.5?e:a}else l=e+1;l=Math.max(0,Math.min(l,j.max)),T("update:modelValue",l),T("change",l)}(l)},{default:i((()=>{var l,a;return[b(u,{name:t.voidIcon,color:t.voidColor,size:t.size,pt:{className:"".concat(null===(l=V.value.icon)||void 0===l?null:l.className)}},null,8,["name","color","size","pt"]),g(e)>0?(c(),d(u,{key:0,name:t.icon,color:t.color,size:t.size,width:g(e),pt:{className:"absolute left-0 ".concat(null===(a=V.value.icon)||void 0===a?null:a.className)}},null,8,["name","color","size","width","pt"])):f("",!0)]})),_:2},1032,["class","onTouchstart"])})),128)),t.showScore?(c(),d(h,{key:0,pt:{className:v(w)(["cl-rate__score ml-2 font-bold",null===(e=V.value.score)||void 0===e?null:e.className])}},new UTSJSONObject({default:i((()=>[U(N(t.modelValue),1)])),_:1}),8,["pt"])):f("",!0)]})),_:1},8,["class"])}}})),[["__scopeId","data-v-28cb72a7"]]),k=s({__name:"rate",setup(l){const a=j(1),t=j(3.5),s=j(!1),u=j(!0),r=j(!0),m=j(!1),_=j(!1);return(l=null,S=null)=>{const f=e(n("cl-rate"),z),O=e(n("cl-switch"),V),w=e(n("cl-list-item"),J),U=e(n("cl-list"),y),N=p,j=e(n("cl-page"),o);return c(),d(j,null,new UTSJSONObject({default:i((()=>[b(N,new UTSJSONObject({class:"p-3"}),{default:i((()=>[b(v(g),new UTSJSONObject({label:v(T)("基础用法")}),{default:i((()=>[b(f,new UTSJSONObject({modelValue:a.value,"onUpdate:modelValue":S[0]||(S[0]=(e=null)=>a.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(v(g),new UTSJSONObject({label:v(T)("自定义")}),{default:i((()=>[b(f,new UTSJSONObject({modelValue:t.value,"onUpdate:modelValue":S[1]||(S[1]=(e=null)=>t.value=e),disabled:s.value,"show-score":u.value,"allow-half":r.value,size:m.value?50:40,"void-icon":_.value?"heart-fill":"star-fill",icon:_.value?"heart-fill":"star-fill"}),null,8,["modelValue","disabled","show-score","allow-half","size","void-icon","icon"]),b(U,new UTSJSONObject({border:"",pt:new UTSJSONObject({className:"mt-3"})}),{default:i((()=>[b(w,new UTSJSONObject({label:v(T)("只读")}),{default:i((()=>[b(O,new UTSJSONObject({modelValue:s.value,"onUpdate:modelValue":S[2]||(S[2]=(e=null)=>s.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(w,new UTSJSONObject({label:v(T)("显示分数")}),{default:i((()=>[b(O,new UTSJSONObject({modelValue:u.value,"onUpdate:modelValue":S[3]||(S[3]=(e=null)=>u.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(w,new UTSJSONObject({label:v(T)("允许半星")}),{default:i((()=>[b(O,new UTSJSONObject({modelValue:r.value,"onUpdate:modelValue":S[4]||(S[4]=(e=null)=>r.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(w,new UTSJSONObject({label:v(T)("换个图标")}),{default:i((()=>[b(O,new UTSJSONObject({modelValue:_.value,"onUpdate:modelValue":S[5]||(S[5]=(e=null)=>_.value=e)}),null,8,["modelValue"])])),_:1},8,["label"]),b(w,new UTSJSONObject({label:v(T)("大一点")}),{default:i((()=>[b(O,new UTSJSONObject({modelValue:m.value,"onUpdate:modelValue":S[6]||(S[6]=(e=null)=>m.value=e)}),null,8,["modelValue"])])),_:1},8,["label"])])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}))}}});export{k as default};
