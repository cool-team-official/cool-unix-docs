import{d as e,t as a,c as t,z as o,T as l,o as n,a as s,w as u,n as r,u as d,W as i,Z as c,_ as p,b as f,e as h,X as m,a2 as b,f as g,g as y,q as S,a3 as _,m as v}from"./index-BoLJSUaB.js";import{u as x}from"./form.BEYq8pne.js";import{c as T}from"./cl-page.uvue_vue_type_script_setup_true_lang.Dheht3lz.js";class j extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0}}}}}constructor(e,a=j.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,a,t),this.className=this.__props__.className,this.inner=this.__props__.inner,delete this.__props__}}const O=T(e(Object.assign({name:"cl-textarea"},{__name:"cl-textarea",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},border:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},showWordLimit:{type:Boolean,default:!0},name:{type:String,default:""},placeholder:{type:String,default:()=>a("请输入")},placeholderClass:{type:String,default:""},maxlength:{type:Number,default:140},autofocus:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},cursor:{type:Number,default:0},confirmHold:{type:Boolean,default:!1},height:{type:[Number,String],default:120},autoHeight:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},cursorSpacing:{type:Number,default:5},cursorColor:{type:String,default:""},showConfirmBar:{type:Boolean,default:!0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},adjustPosition:{type:Boolean,default:!0},inputmode:{type:String,default:"text"},holdKeyboard:{type:Boolean,default:!1},disableDefaultPadding:{type:Boolean,default:!0},adjustKeyboardTo:{type:String,default:"cursor"}},emits:["update:modelValue","input","change","focus","blur","confirm","linechange","keyboardheightchange"],setup(e,a){var T=a.expose,j=a.emit;const O=e,N=j,w=x().disabled,U=t((()=>w.value||O.disabled)),B=t((()=>i(O.pt))),k=o(O.modelValue),J=o(O.autofocus);function C(){J.value=!0,N("focus")}function K(){N("blur"),setTimeout((()=>{J.value=!1}),0)}function P(e){const a=e.detail.value;k.value=a,N("update:modelValue",a),N("change",a)}function V(e){N("confirm",e)}function H(e){N("keyboardheightchange",e)}function $(e){N("linechange",e)}function L(){if(U.value)return null;J.value=!0}return l(t((()=>O.modelValue)),(e=>{k.value=e})),T(new UTSJSONObject({isFocus:J,focus:function(){setTimeout((()=>{J.value=!1,c((()=>{J.value=!0}))}),0)}})),(a=null,t=null)=>{const o=_,l=v,i=p;return n(),s(i,new UTSJSONObject({class:r(["cl-textarea",[new UTSJSONObject({}),B.value.className,new UTSJSONObject({"is-dark":d(h),"cl-textarea--border":e.border,"cl-textarea--focus":J.value,"cl-textarea--disabled":U.value})]]),onClick:L}),{default:u((()=>{var a,t;return[f(o,{class:r(["cl-textarea__inner",[new UTSJSONObject({"dark-colon-text-surface-50":d(h)}),new UTSJSONObject({"is-disabled":U.value,"is-dark":d(h)}),null===(a=B.value.inner)||void 0===a?null:a.className]]),style:m({height:d(b)(e.height)}),value:k.value,name:e.name,disabled:null!==(t=e.readonly)&&void 0!==t?t:U.value,placeholder:e.placeholder,"placeholder-class":"text-surface-400 ".concat(e.placeholderClass),maxlength:e.maxlength,"auto-focus":J.value,cursor:e.cursor,"cursor-spacing":e.cursorSpacing,"cursor-color":e.cursorColor,"show-confirm-bar":e.showConfirmBar,"confirm-hold":e.confirmHold,"auto-height":e.autoHeight,fixed:e.fixed,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,inputmode:e.inputmode,"disable-default-padding":e.disableDefaultPadding,"adjust-keyboard-to":e.adjustKeyboardTo,onConfirm:V,onInput:P,onLinechange:$,onBlur:K,onKeyboardheightchange:H,onFocus:C},null,8,["class","style","value","name","disabled","placeholder","placeholder-class","maxlength","auto-focus","cursor","cursor-spacing","cursor-color","show-confirm-bar","confirm-hold","auto-height","fixed","adjust-position","hold-keyboard","inputmode","disable-default-padding","adjust-keyboard-to"]),e.showWordLimit?(n(),s(l,new UTSJSONObject({key:0,class:r(["cl-textarea__count",new UTSJSONObject({"dark-colon-text-surface-50":d(h)})])}),new UTSJSONObject({default:u((()=>[g(y(k.value.length)+"/"+y(e.maxlength),1)])),_:1}),8,["class"])):S("",!0)]})),_:1},8,["class"])}}})),[["__scopeId","data-v-3bc0ba65"]]);export{O as _};
