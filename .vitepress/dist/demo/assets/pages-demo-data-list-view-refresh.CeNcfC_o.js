import{_ as e}from"./cl-loadmore.BPwrn4xF.js";import{d as t,h as s,a as i,o as a,c as o,w as l,O as n,_ as c,e as r,f as m,g as p,i as u,u as d,p as S,r as g,t as O,x as j,H as _}from"./index-CQm_J2yh.js";import{r as w,_ as b,o as T,u as U,b as h}from"./cl-page.uvue_vue_type_script_setup_true_lang.CluByn4i.js";import{_ as N}from"./cl-list-view.B71BtSPO.js";import{u as f}from"./pager.CfjT2wq7.js";import{_ as J}from"./cl-image.BPT1WZlC.js";import"./cl-empty.CZBvZ2IL.js";import"./component.CXP6yD-I.js";class v extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{id:{type:Number,optional:!1},title:{type:String,optional:!1},image:{type:String,optional:!1}}}}}constructor(e,t=v.get$UTSMetadata$(),s=!1){super(),this.__props__=UTS.UTSType.initProps(e,t,s),this.id=this.__props__.id,this.title=this.__props__.title,this.image=this.__props__.image,delete this.__props__}}const x=t(Object.assign({name:"goods-item"},{__name:"goods-item",props:{value:{type:Object,default:()=>new UTSJSONObject({})}},setup(e){const t=e,g=s((()=>n(t.value)));return(e=null,t=null)=>{const s=w(i("cl-image"),J),n=w(i("cl-text"),b),O=c;return a(),o(O,new UTSJSONObject({class:"p-3 pb-0"}),{default:l((()=>[r(O,new UTSJSONObject({class:u(["w-full p-3 bg-white rounded-xl",new UTSJSONObject({"dark-colon-bg-surface-800":d(S)})])}),{default:l((()=>{var e;return[r(s,{src:null===(e=g.value)||void 0===e?null:e.image,mode:"aspectFill",width:"100%",height:"280rpx"},null,8,["src"]),r(n,new UTSJSONObject({pt:new UTSJSONObject({className:"mt-2"})}),{default:l((()=>{var e;return[m(p(null===(e=g.value)||void 0===e?null:e.title),1)]})),_:1})]})),_:1},8,["class"])])),_:1})}}})),y=t({__name:"list-view-refresh",setup(t){const s=U(),n=g(null);let m=0;const p=f((e=>new Promise((t=>{setTimeout((()=>{t(new UTSJSONObject({list:[new UTSJSONObject({id:m++,title:"春日樱花盛开时节，粉色花瓣如诗如画般飘洒",image:"https://unix.cool-js.com/images/demo/1.jpg"}),new UTSJSONObject({id:m++,title:"夕阳西下的海滩边，金色阳光温柔地洒在波光粼粼的海面上，构成令人心旷神怡的日落美景",image:"https://unix.cool-js.com/images/demo/2.jpg"}),new UTSJSONObject({id:m++,title:"寒冬腊月时分，洁白雪花纷纷扬扬地覆盖着整个世界，感受冬日的宁静与美好",image:"https://unix.cool-js.com/images/demo/3.jpg"}),new UTSJSONObject({id:m++,title:"都市夜景霓虹闪烁，五彩斑斓光芒照亮城市营造梦幻般景象",image:"https://unix.cool-js.com/images/demo/5.jpg"}),new UTSJSONObject({id:m++,title:"云雾缭绕的山间风光如诗如画让人心旷神怡，微风轻抚树梢带来阵阵清香，鸟儿在林间自由歌唱",image:"https://unix.cool-js.com/images/demo/6.jpg"}),new UTSJSONObject({id:m++,title:"古老建筑与现代摩天大楼交相辉映，传统与现代完美融合创造独特城市景观",image:"https://unix.cool-js.com/images/demo/7.jpg"}),new UTSJSONObject({id:m++,title:"广袤田野绿意盎然风光无限，金黄麦浪在微风中轻柔摇曳，农家炊烟袅袅升起",image:"https://unix.cool-js.com/images/demo/8.jpg"}),new UTSJSONObject({id:m++,title:"璀璨星空下银河横跨天际，繁星闪烁神秘光芒营造浪漫夜空美景",image:"https://unix.cool-js.com/images/demo/9.jpg"}),new UTSJSONObject({id:m++,title:"雄伟瀑布从高耸悬崖飞流直下激起千层浪花，彩虹在水雾中若隐若现如梦如幻",image:"https://unix.cool-js.com/images/demo/10.jpg"})],pagination:new UTSJSONObject({page:e.page,size:e.size,total:100})})),s.hideLoading()}),1e3)})))),u=p.refresh,S=p.list,b=p.listView,J=p.loading,v=p.loadMore;function y(){return _(this,void 0,void 0,(function*(){yield u(new UTSJSONObject({page:1})),n.value.stopRefresh()}))}return T((()=>{s.showLoading(O("加载中")),u(new UTSJSONObject({}))})),(t=null,s=null)=>{const m=w(i("cl-loadmore"),e),p=c,u=w(i("cl-list-view"),N),g=w(i("cl-page"),h);return a(),o(g,null,new UTSJSONObject({default:l((()=>[r(u,new UTSJSONObject({ref_key:"listViewRef",ref:n,data:d(b),virtual:!1,pt:new UTSJSONObject({refresher:new UTSJSONObject({className:"pt-3"})}),"refresher-enabled":!0,onPull:y,onBottom:d(v)}),{item:l((e=>{var t=e.value;return[r(d(x),new UTSJSONObject({value:t}),null,8,["value"])]})),bottom:l((()=>[r(p,new UTSJSONObject({class:"py-3"}),{default:l((()=>[d(S).length>0?(a(),o(m,new UTSJSONObject({key:0,loading:d(J)}),null,8,["loading"])):j("",!0)])),_:1})])),_:1},8,["data","onBottom"])])),_:1}))}}});export{y as default};
