import{r as e,_ as l,a as t,c as a,d as n,e as s,b as r,u as o}from"./cl-page.uvue_vue_type_script_setup_true_lang.BiE4Gfav.js";import{d as c,h as u,r as i,a1 as p,U as b,a as S,o as d,l as m,e as _,w as O,i as w,F as v,V as f,_ as T,I as U,u as N,z as j,f as g,g as h,c as y,v as J,H as x,t as k,m as V,p as P,av as $}from"./index-B_3GhiAr.js";import{_ as C}from"./cl-select.DB_ofmZf.js";import{_ as M}from"./cl-checkbox.CkVuh-kz.js";import{_ as B}from"./cl-col.Bbf7CrTl.js";import{_ as A}from"./cl-row.DwZNdaEQ.js";import{_ as G,a as I}from"./cl-form._ZfrikKj.js";import{_ as z}from"./cl-input.ZfDiijiR.js";import{_ as D}from"./cl-radio.dBlT_jG6.js";import{D as F}from"./item.rE9a1cCU.js";import"./cl-select-trigger.B-Iv3vDh.js";import"./form.C1qv6o9s.js";import"./cl-picker-view.SNKeXryV.js";import"./item.uvue_vue_type_style_index_0_scoped_b08ace3b_lang.DLoJzv53.js";class H extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},label:{type:"Unknown",optional:!0}}}}}constructor(e,l=H.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,t),this.className=this.__props__.className,this.label=this.__props__.label,delete this.__props__}}const L=a(c(Object.assign({name:"cl-filter-item"},{__name:"cl-filter-item",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},label:{type:String,default:""},value:{type:[String,Number,Boolean,Array],required:!0},type:{type:String,default:"switch"},options:{type:Array,default:()=>[]}},emits:["change"],setup(a,n){var s=n.emit;const r=a,o=s,c=u((()=>f(r.pt))),x=i(null),k=i(!1),V=i("none"),P=i(null),$=u((()=>{var e,l;return"select"==r.type?null!==(l=null===(e=UTS.arrayFind(r.options,(e=>e.value==P.value)))||void 0===e?null:e.label)&&void 0!==l?l:"":r.label}));function M(){"sort"==r.type&&("asc"==V.value?V.value="desc":"desc"==V.value?V.value="none":V.value="asc",o("change",V.value)),"switch"==r.type&&(k.value=!k.value,o("change",k.value)),"select"==r.type&&x.value.open(((e=null)=>{o("change",e)}))}return p((()=>{b(u((()=>r.value)),((e=null)=>{switch(r.type){case"select":P.value=e;break;case"switch":k.value=e;break;case"sort":V.value=e}}),{immediate:!0})})),(n=null,s=null)=>{const r=e(S("cl-text"),l),o=e(S("cl-icon"),t),u=T,i=e(S("cl-select"),C);return d(),m(v,null,[_(u,new UTSJSONObject({class:w(["cl-filter-item",[new UTSJSONObject({}),c.value.className]]),onClick:M}),{default:O((()=>[U(n.$slots,"default",new UTSJSONObject({}),(()=>{var e;return[_(r,{pt:{className:N(j)([[k.value,"-important-text-primary-500"],"text-center",null===(e=c.value.label)||void 0===e?null:e.className])}},{default:O((()=>[g(h($.value),1)])),_:1},8,["pt"]),"sort"==a.type&&"none"!=V.value?(d(),y(o,new UTSJSONObject({key:0,name:"sort-".concat(V.value),pt:new UTSJSONObject({className:"ml-1"})}),null,8,["name"])):J("",!0),"select"==a.type?(d(),y(o,new UTSJSONObject({key:1,name:"arrow-down-s-line",pt:new UTSJSONObject({className:"ml-1"})}))):J("",!0)]}),!0)])),_:3},8,["class"]),_(i,new UTSJSONObject({modelValue:P.value,"onUpdate:modelValue":s[0]||(s[0]=(e=null)=>P.value=e),ref_key:"selectRef",ref:x,"show-trigger":!1,options:a.options}),null,8,["modelValue","options"])],64)}}})),[["__scopeId","data-v-a9fb94d1"]]),q=a(c(Object.assign({name:"cl-filter-bar"},{__name:"cl-filter-bar",setup:e=>(e=null,l=null)=>{const t=T;return d(),y(t,new UTSJSONObject({class:"cl-filter-bar"}),new UTSJSONObject({default:O((()=>[U(e.$slots,"default",new UTSJSONObject({}),void 0,!0)])),_:3}))}})),[["__scopeId","data-v-08b54cdb"]]);class E extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{label:{type:String,optional:!1},value:{type:String,optional:!1}}}}}constructor(e,l=E.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,t),this.label=this.__props__.label,this.value=this.__props__.value,delete this.__props__}}class R extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{dis:{type:UTS.UTSType.withGenerics(Array,[String]),optional:!1},minPrice:{type:String,optional:!1},maxPrice:{type:String,optional:!1},brand:{type:UTS.UTSType.withGenerics(Array,[String]),optional:!1},memory:{type:String,optional:!1},color:{type:String,optional:!1}}}}}constructor(e,l=R.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,t),this.dis=this.__props__.dis,this.minPrice=this.__props__.minPrice,this.maxPrice=this.__props__.maxPrice,this.brand=this.__props__.brand,this.memory=this.__props__.memory,this.color=this.__props__.color,delete this.__props__}}class K extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{core:{type:Number,optional:!1},sort:{type:String,optional:!1},switch:{type:Boolean,optional:!1}}}}}constructor(e,l=K.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,l,t),this.core=this.__props__.core,this.sort=this.__props__.sort,this.switch=this.__props__.switch,delete this.__props__}}const Q=c({__name:"filter-bar",setup(a){const c=o(),u=i(!1);function p(){u.value=!0}function b(){u.value=!1}function w(){b(),c.showLoading(),setTimeout((()=>{c.hideLoading()}),1e3)}const f=i([{label:"综合排序",value:1},{label:"价格从高到底",value:2},{label:"价格从低到高",value:3}]),U=i([new E({label:"百亿补贴",value:"billion_subsidy"}),new E({label:"以旧换新",value:"trade_in"}),new E({label:"分期免息",value:"installment"}),new E({label:"包邮",value:"free_shipping"}),new E({label:"促销",value:"promotion"}),new E({label:"价保",value:"price_protection"}),new E({label:"仅看有货",value:"in_stock"}),new E({label:"货到付款",value:"cod"})]),J=i([new E({label:"华为",value:"huawei"}),new E({label:"苹果",value:"apple"}),new E({label:"小米",value:"xiaomi"}),new E({label:"三星",value:"samsung"}),new E({label:"OPPO",value:"oppo"}),new E({label:"vivo",value:"vivo"}),new E({label:"荣耀",value:"honor"})]),C=i([new E({label:"红色",value:"red"}),new E({label:"蓝色",value:"blue"}),new E({label:"黑色",value:"black"}),new E({label:"白色",value:"white"}),new E({label:"金色",value:"gold"}),new E({label:"银色",value:"silver"}),new E({label:"绿色",value:"green"}),new E({label:"紫色",value:"purple"}),new E({label:"灰色",value:"gray"}),new E({label:"粉色",value:"pink"})]),H=i([new E({label:"128GB",value:"128"}),new E({label:"256GB",value:"256"}),new E({label:"512GB",value:"512"}),new E({label:"1TB",value:"1024"})]),Q=i(new R({dis:[],minPrice:"50",maxPrice:"300",brand:[],memory:"",color:""})),W=x(new K({core:0,sort:"none",switch:!1}));function X(e){console.log(e),W.core=e}function Y(e){console.log(e),W.sort=e}function Z(e){console.log(e),W.switch=e}return(a=null,o=null)=>{const c=e(S("cl-filter-item"),L),i=e(S("cl-text"),l),x=e(S("cl-icon"),t),E=T,R=e(S("cl-filter-bar"),q),K=e(S("cl-checkbox"),M),ee=e(S("cl-col"),B),le=e(S("cl-row"),A),te=e(S("cl-form-item"),G),ae=e(S("cl-input"),z),ne=e(S("cl-radio"),D),se=e(S("cl-form"),I),re=$,oe=e(S("cl-button"),n),ce=e(S("cl-popup"),s),ue=e(S("cl-page"),r);return d(),y(ue,null,new UTSJSONObject({default:O((()=>[_(E,new UTSJSONObject({class:"p-3"}),{default:O((()=>[_(N(F),new UTSJSONObject({label:N(k)("基础用法")}),{default:O((()=>[_(R,null,{default:O((()=>[_(c,new UTSJSONObject({label:"综合排序",type:"select",value:1,options:f.value,pt:new UTSJSONObject({className:"w--bracket-start-220rpx-bracket-end- -important-flex-none"}),onChange:X}),null,8,["options"]),_(c,new UTSJSONObject({label:"销量",type:"sort",value:"desc",onChange:Y})),_(c,new UTSJSONObject({label:"国补",type:"switch",value:!1,onChange:Z})),_(E,new UTSJSONObject({class:"flex flex-row items-center justify-center flex-1",onClick:p}),{default:O((()=>[_(i,null,{default:O((()=>[g("筛选")])),_:1}),_(x,new UTSJSONObject({name:"filter-line"}))])),_:1})])),_:1})])),_:1},8,["label"]),_(N(F),null,{default:O((()=>[_(i,new UTSJSONObject({"pre-wrap":"",pt:new UTSJSONObject({className:"-important-text-sm p-2"})}),{default:O((()=>[g(h(UTS.JSON.stringify(W,null,4)),1)])),_:1})])),_:1}),_(N(F),null,{default:O((()=>[_(i,new UTSJSONObject({"pre-wrap":"",pt:new UTSJSONObject({className:"-important-text-sm p-2"})}),{default:O((()=>[g(h(UTS.JSON.stringify(Q.value,null,4)),1)])),_:1})])),_:1})])),_:1}),_(ce,new UTSJSONObject({modelValue:u.value,"onUpdate:modelValue":o[6]||(o[6]=(e=null)=>u.value=e),title:N(k)("筛选"),direction:"right",size:"80%","show-header":!1}),{default:O((()=>[_(E,new UTSJSONObject({class:"flex flex-col h-full"}),{default:O((()=>[_(re,new UTSJSONObject({class:"flex-1"}),{default:O((()=>[_(se,new UTSJSONObject({pt:new UTSJSONObject({className:"p-3"})}),{default:O((()=>[_(te,new UTSJSONObject({label:"服务/折扣"}),{default:O((()=>[_(le,new UTSJSONObject({gutter:20}),{default:O((()=>[(d(!0),m(v,null,V(U.value,((e,l)=>(d(),y(ee,new UTSJSONObject({span:8,key:l}),new UTSJSONObject({default:O((()=>[_(K,new UTSJSONObject({modelValue:Q.value.dis,"onUpdate:modelValue":o[0]||(o[0]=(e=null)=>Q.value.dis=e),label:e.label,value:e.value,"show-icon":!1,pt:new UTSJSONObject({className:N(j)(["mb-3 p-2 rounded-lg justify-center border border-solid border-transparent",[N(P),"bg-surface-800","bg-surface-100"],[Q.value.dis.includes(e.value),"".concat(N(P)?"-important-bg-surface-700":"-important-bg-white"," -important-border-primary-500")]]),label:new UTSJSONObject({className:"-important-text-sm"})})}),null,8,["modelValue","label","value","pt"])])),_:2}),1024)))),128))])),_:1})])),_:1}),_(te,new UTSJSONObject({label:"价格区间"}),{default:O((()=>[_(E,new UTSJSONObject({class:"flex flex-row items-center"}),{default:O((()=>[_(ae,new UTSJSONObject({modelValue:Q.value.minPrice,"onUpdate:modelValue":o[1]||(o[1]=(e=null)=>Q.value.minPrice=e),type:"digit",placeholder:"最低价",pt:new UTSJSONObject({className:"flex-1",inner:new UTSJSONObject({className:"text-center"})})}),null,8,["modelValue"]),_(i,new UTSJSONObject({pt:new UTSJSONObject({className:"px-2"})}),{default:O((()=>[g("~")])),_:1}),_(ae,new UTSJSONObject({modelValue:Q.value.maxPrice,"onUpdate:modelValue":o[2]||(o[2]=(e=null)=>Q.value.maxPrice=e),type:"digit",placeholder:"最高价",pt:new UTSJSONObject({className:"flex-1",inner:new UTSJSONObject({className:"text-center"})})}),null,8,["modelValue"])])),_:1})])),_:1}),_(te,new UTSJSONObject({label:"品牌"}),{default:O((()=>[_(le,new UTSJSONObject({gutter:20}),{default:O((()=>[(d(!0),m(v,null,V(J.value,((e,l)=>(d(),y(ee,new UTSJSONObject({span:8,key:l}),new UTSJSONObject({default:O((()=>[_(K,new UTSJSONObject({modelValue:Q.value.brand,"onUpdate:modelValue":o[3]||(o[3]=(e=null)=>Q.value.brand=e),label:e.label,value:e.value,"show-icon":!1,pt:new UTSJSONObject({className:N(j)(["mb-3 p-2 rounded-lg justify-center border border-solid border-transparent",[N(P),"bg-surface-800","bg-surface-100"],[Q.value.brand.includes(e.value),"".concat(N(P)?"-important-bg-surface-700":"-important-bg-white"," -important-border-primary-500")]]),label:new UTSJSONObject({className:"-important-text-sm"})})}),null,8,["modelValue","label","value","pt"])])),_:2}),1024)))),128))])),_:1})])),_:1}),_(te,new UTSJSONObject({label:"内存"}),{default:O((()=>[_(le,new UTSJSONObject({gutter:20}),{default:O((()=>[(d(!0),m(v,null,V(H.value,((e,l)=>(d(),y(ee,new UTSJSONObject({span:8,key:l}),new UTSJSONObject({default:O((()=>[_(ne,new UTSJSONObject({modelValue:Q.value.memory,"onUpdate:modelValue":o[4]||(o[4]=(e=null)=>Q.value.memory=e),label:e.label,value:e.value,"show-icon":!1,pt:new UTSJSONObject({className:N(j)(["mb-3 p-2 rounded-lg justify-center border border-solid border-transparent",[N(P),"bg-surface-800","bg-surface-100"],[Q.value.memory==e.value,"".concat(N(P)?"-important-bg-surface-700":"-important-bg-white"," -important-border-primary-500")]]),label:new UTSJSONObject({className:"-important-text-sm"})})}),null,8,["modelValue","label","value","pt"])])),_:2}),1024)))),128))])),_:1})])),_:1}),_(te,new UTSJSONObject({label:"颜色"}),{default:O((()=>[_(le,new UTSJSONObject({gutter:20}),{default:O((()=>[(d(!0),m(v,null,V(C.value,((e,l)=>(d(),y(ee,new UTSJSONObject({span:8,key:l}),new UTSJSONObject({default:O((()=>[_(ne,new UTSJSONObject({modelValue:Q.value.color,"onUpdate:modelValue":o[5]||(o[5]=(e=null)=>Q.value.color=e),label:e.label,value:e.value,"show-icon":!1,pt:new UTSJSONObject({className:N(j)(["mb-3 p-2 rounded-lg justify-center border border-solid border-transparent",[N(P),"bg-surface-800","bg-surface-100"],[Q.value.color==e.value,"".concat(N(P)?"-important-bg-surface-700":"-important-bg-white"," -important-border-primary-500")]]),label:new UTSJSONObject({className:"-important-text-sm"})})}),null,8,["modelValue","label","value","pt"])])),_:2}),1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1}),_(E,new UTSJSONObject({class:"flex flex-row p-3"}),{default:O((()=>[_(oe,new UTSJSONObject({type:"info",text:"",border:"",pt:new UTSJSONObject({className:"flex-1"}),onClick:b}),{default:O((()=>[g(h(N(k)("取消")),1)])),_:1}),_(oe,new UTSJSONObject({pt:new UTSJSONObject({className:"flex-1"}),onClick:w}),{default:O((()=>[g(h(N(k)("确定")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","title"])])),_:1}))}}});export{Q as default};
