import{d as e,t as a,c as t,z as o,T as l,o as n,a as s,w as u,n as r,u as d,U as i,V as c,_ as p,b as f,e as h,W as m,X as b,f as y,j as g,p as S,Y as _,l as x}from"./index-C2_bPN9j.js";import{c as T}from"./cl-page.uvue_vue_type_script_setup_true_lang.CZ49HJKT.js";class j extends UTS.UTSType{static get$UTSMetadata$(){return{kind:2,get fields(){return{className:{type:String,optional:!0},inner:{type:"Unknown",optional:!0}}}}}constructor(e,a=j.get$UTSMetadata$(),t=!1){super(),this.__props__=UTS.UTSType.initProps(e,a,t),this.className=this.__props__.className,this.inner=this.__props__.inner,delete this.__props__}}const v=T(e(Object.assign({name:"cl-textarea"},{__name:"cl-textarea",props:{pt:{type:Object,default:()=>new UTSJSONObject({})},modelValue:{type:String,default:""},border:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:null},showWordLimit:{type:Boolean,default:!0},name:{type:String,default:""},placeholder:{type:String,default:a("请输入")},placeholderClass:{type:String,default:""},maxlength:{type:Number,default:140},autofocus:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},cursor:{type:Number,default:0},confirmHold:{type:Boolean,default:!1},height:{type:[Number,String],default:120},autoHeight:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},cursorSpacing:{type:Number,default:5},cursorColor:{type:String,default:""},showConfirmBar:{type:Boolean,default:!0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},adjustPosition:{type:Boolean,default:!0},inputmode:{type:String,default:"text"},holdKeyboard:{type:Boolean,default:!1},disableDefaultPadding:{type:Boolean,default:!0},adjustKeyboardTo:{type:String,default:"cursor"}},emits:["update:modelValue","input","change","focus","blur","confirm","linechange","keyboardheightchange"],setup(e,a){var T=a.expose,j=a.emit;const v=e,O=j,N=t((()=>i(v.pt))),w=o(v.modelValue),U=o(v.autofocus);function B(){U.value=!0,O("focus")}function k(){O("blur"),setTimeout((()=>{U.value=!1}),0)}function J(e){const a=e.detail.value;w.value=a,O("update:modelValue",a),O("change",a)}function C(e){O("confirm",e)}function V(e){O("keyboardheightchange",e)}function K(e){O("linechange",e)}function P(){if(v.disabled)return null;U.value=!0}return l(t((()=>v.modelValue)),(e=>{w.value=e})),T(new UTSJSONObject({isFocus:U,focus:function(){setTimeout((()=>{U.value=!1,c((()=>{U.value=!0}))}),0)}})),(a=null,t=null)=>{const o=_,l=x,i=p;return n(),s(i,new UTSJSONObject({class:r(["cl-textarea",[new UTSJSONObject({}),N.value.className,new UTSJSONObject({"is-dark":d(h),"cl-textarea--border":e.border,"cl-textarea--focus":U.value,"cl-textarea--disabled":e.disabled})]]),onClick:P}),{default:u((()=>{var a,t;return[f(o,{class:r(["cl-textarea__inner",[new UTSJSONObject({"dark-colon-text-surface-50":d(h)}),new UTSJSONObject({"is-disabled":e.disabled,"is-dark":d(h)}),null===(a=N.value.inner)||void 0===a?null:a.className]]),style:m({height:d(b)(e.height)}),value:w.value,name:e.name,disabled:null!==(t=e.readonly)&&void 0!==t?t:e.disabled,placeholder:e.placeholder,"placeholder-class":"text-surface-400 ".concat(e.placeholderClass),maxlength:e.maxlength,"auto-focus":U.value,cursor:e.cursor,"cursor-spacing":e.cursorSpacing,"cursor-color":e.cursorColor,"show-confirm-bar":e.showConfirmBar,"confirm-hold":e.confirmHold,"auto-height":e.autoHeight,fixed:e.fixed,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,inputmode:e.inputmode,"disable-default-padding":e.disableDefaultPadding,"adjust-keyboard-to":e.adjustKeyboardTo,onConfirm:C,onInput:J,onLinechange:K,onBlur:k,onKeyboardheightchange:V,onFocus:B},null,8,["class","style","value","name","disabled","placeholder","placeholder-class","maxlength","auto-focus","cursor","cursor-spacing","cursor-color","show-confirm-bar","confirm-hold","auto-height","fixed","adjust-position","hold-keyboard","inputmode","disable-default-padding","adjust-keyboard-to"]),e.showWordLimit?(n(),s(l,new UTSJSONObject({key:0,class:r(["cl-textarea__count",new UTSJSONObject({"dark-colon-text-surface-50":d(h)})])}),new UTSJSONObject({default:u((()=>[y(g(w.value.length)+"/"+g(e.maxlength),1)])),_:1}),8,["class"])):S("",!0)]})),_:1},8,["class"])}}})),[["__scopeId","data-v-eefdc6ec"]]);export{v as _};
